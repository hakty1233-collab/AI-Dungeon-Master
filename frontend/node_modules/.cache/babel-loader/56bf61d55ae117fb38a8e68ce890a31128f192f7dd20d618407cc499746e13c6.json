{"ast":null,"code":"// frontend/src/utils/musicSystem.js\n\n/**\n * Background Music System\n * Uses free music from various sources\n */\n\n// Music tracks (using royalty-free music URLs)\nexport const MUSIC_TRACKS = {\n  // Main themes\n  main_menu: {\n    name: 'Main Menu Theme',\n    url: 'https://cdn.pixabay.com/audio/2022/03/10/audio_d1718372d8.mp3',\n    // Epic Fantasy\n    volume: 0.3,\n    loop: true\n  },\n  // Exploration music\n  peaceful_village: {\n    name: 'Peaceful Village',\n    url: 'https://cdn.pixabay.com/audio/2022/05/27/audio_1808fbf07a.mp3',\n    // Calm Village\n    volume: 0.25,\n    loop: true\n  },\n  forest_exploration: {\n    name: 'Forest Exploration',\n    url: 'https://cdn.pixabay.com/audio/2023/02/28/audio_64a8030714.mp3',\n    // Forest Ambience\n    volume: 0.25,\n    loop: true\n  },\n  dungeon_explore: {\n    name: 'Dark Dungeon',\n    url: 'https://cdn.pixabay.com/audio/2022/11/28/audio_1e0d3c15e3.mp3',\n    // Dark Ambience\n    volume: 0.3,\n    loop: true\n  },\n  // Combat music\n  combat_easy: {\n    name: 'Battle - Easy',\n    url: 'https://cdn.pixabay.com/audio/2022/03/15/audio_13697b3a7f.mp3',\n    // Action Music\n    volume: 0.35,\n    loop: true\n  },\n  combat_hard: {\n    name: 'Battle - Hard',\n    url: 'https://cdn.pixabay.com/audio/2022/10/25/audio_57b23c6eb5.mp3',\n    // Epic Battle\n    volume: 0.4,\n    loop: true\n  },\n  boss_fight: {\n    name: 'Boss Battle',\n    url: 'https://cdn.pixabay.com/audio/2023/09/04/audio_8b7e764b9c.mp3',\n    // Boss Theme\n    volume: 0.45,\n    loop: true\n  },\n  // Special locations\n  tavern: {\n    name: 'Tavern',\n    url: 'https://cdn.pixabay.com/audio/2022/08/02/audio_0625c1539c.mp3',\n    // Tavern Music\n    volume: 0.2,\n    loop: true\n  },\n  victory: {\n    name: 'Victory!',\n    url: 'https://cdn.pixabay.com/audio/2022/03/24/audio_c2c6e01cd2.mp3',\n    // Victory Fanfare\n    volume: 0.4,\n    loop: false\n  },\n  defeat: {\n    name: 'Defeat',\n    url: 'https://cdn.pixabay.com/audio/2022/11/14/audio_6a0e8c0c06.mp3',\n    // Sad Theme\n    volume: 0.3,\n    loop: false\n  }\n};\n\n// Music manager class\nexport class MusicManager {\n  constructor() {\n    this.currentTrack = null;\n    this.audio = null;\n    this.volume = 0.3;\n    this.enabled = true;\n    this.fadeDuration = 2000; // 2 seconds crossfade\n  }\n\n  /**\n   * Play a track\n   */\n  play(trackKey, options = {}) {\n    if (!this.enabled) return;\n    const track = MUSIC_TRACKS[trackKey];\n    if (!track) {\n      console.warn('Track not found:', trackKey);\n      return;\n    }\n\n    // If same track is already playing, don't restart\n    if (this.currentTrack === trackKey && this.audio && !this.audio.paused) {\n      return;\n    }\n    const fade = options.fade !== false;\n    const volume = options.volume || track.volume || this.volume;\n\n    // Stop current track\n    if (this.audio) {\n      if (fade) {\n        this.fadeOut(() => {\n          this.startNewTrack(trackKey, track, volume);\n        });\n      } else {\n        this.audio.pause();\n        this.startNewTrack(trackKey, track, volume);\n      }\n    } else {\n      this.startNewTrack(trackKey, track, volume);\n    }\n  }\n\n  /**\n   * Start playing a new track\n   */\n  startNewTrack(trackKey, track, volume) {\n    this.audio = new Audio(track.url);\n    this.audio.loop = track.loop !== false;\n    this.audio.volume = 0;\n    this.currentTrack = trackKey;\n    this.audio.play().then(() => {\n      this.fadeIn(volume);\n    }).catch(err => {\n      console.error('Failed to play music:', err);\n    });\n    console.log('ðŸŽµ Now playing:', track.name);\n  }\n\n  /**\n   * Fade in\n   */\n  fadeIn(targetVolume) {\n    if (!this.audio) return;\n    const steps = 20;\n    const stepDuration = this.fadeDuration / steps;\n    const volumeStep = targetVolume / steps;\n    let currentStep = 0;\n    const interval = setInterval(() => {\n      if (!this.audio) {\n        clearInterval(interval);\n        return;\n      }\n      currentStep++;\n      this.audio.volume = Math.min(volumeStep * currentStep, targetVolume);\n      if (currentStep >= steps) {\n        clearInterval(interval);\n      }\n    }, stepDuration);\n  }\n\n  /**\n   * Fade out\n   */\n  fadeOut(callback) {\n    if (!this.audio) {\n      if (callback) callback();\n      return;\n    }\n    const startVolume = this.audio.volume;\n    const steps = 20;\n    const stepDuration = this.fadeDuration / steps;\n    const volumeStep = startVolume / steps;\n    let currentStep = 0;\n    const interval = setInterval(() => {\n      if (!this.audio) {\n        clearInterval(interval);\n        if (callback) callback();\n        return;\n      }\n      currentStep++;\n      this.audio.volume = Math.max(startVolume - volumeStep * currentStep, 0);\n      if (currentStep >= steps) {\n        clearInterval(interval);\n        this.audio.pause();\n        if (callback) callback();\n      }\n    }, stepDuration);\n  }\n\n  /**\n   * Stop music\n   */\n  stop(fade = true) {\n    if (!this.audio) return;\n    if (fade) {\n      this.fadeOut(() => {\n        this.audio = null;\n        this.currentTrack = null;\n      });\n    } else {\n      this.audio.pause();\n      this.audio = null;\n      this.currentTrack = null;\n    }\n  }\n\n  /**\n   * Set volume\n   */\n  setVolume(volume) {\n    this.volume = Math.max(0, Math.min(1, volume));\n    if (this.audio) {\n      this.audio.volume = this.volume;\n    }\n  }\n\n  /**\n   * Toggle enabled\n   */\n  setEnabled(enabled) {\n    this.enabled = enabled;\n    if (!enabled && this.audio) {\n      this.stop();\n    }\n  }\n\n  /**\n   * Get current track info\n   */\n  getCurrentTrack() {\n    if (!this.currentTrack) return null;\n    return {\n      key: this.currentTrack,\n      ...MUSIC_TRACKS[this.currentTrack]\n    };\n  }\n}\n\n// Singleton instance\nexport const musicManager = new MusicManager();\n\n/**\n * Detect scene type from narration and play appropriate music\n */\nexport function detectAndPlayMusic(narration, inCombat = false) {\n  const lower = narration.toLowerCase();\n\n  // Combat takes priority\n  if (inCombat) {\n    if (lower.includes('boss') || lower.includes('dragon') || lower.includes('ancient')) {\n      musicManager.play('boss_fight');\n    } else if (lower.includes('fierce') || lower.includes('deadly') || lower.includes('overwhelming')) {\n      musicManager.play('combat_hard');\n    } else {\n      musicManager.play('combat_easy');\n    }\n    return;\n  }\n\n  // Victory/Defeat\n  if (lower.includes('victory') || lower.includes('defeated all') || lower.includes('triumph')) {\n    musicManager.play('victory');\n    // Return to exploration after victory music\n    setTimeout(() => {\n      musicManager.play('peaceful_village');\n    }, 10000);\n    return;\n  }\n  if (lower.includes('defeat') || lower.includes('fallen') || lower.includes('death')) {\n    musicManager.play('defeat');\n    return;\n  }\n\n  // Locations\n  if (lower.includes('tavern') || lower.includes('inn') || lower.includes('alehouse')) {\n    musicManager.play('tavern');\n    return;\n  }\n  if (lower.includes('dungeon') || lower.includes('cave') || lower.includes('crypt') || lower.includes('tomb')) {\n    musicManager.play('dungeon_explore');\n    return;\n  }\n  if (lower.includes('forest') || lower.includes('woods') || lower.includes('grove')) {\n    musicManager.play('forest_exploration');\n    return;\n  }\n  if (lower.includes('village') || lower.includes('town') || lower.includes('city') || lower.includes('peaceful')) {\n    musicManager.play('peaceful_village');\n    return;\n  }\n\n  // Default to peaceful exploration if no music is playing\n  if (!musicManager.currentTrack) {\n    musicManager.play('peaceful_village');\n  }\n}","map":{"version":3,"names":["MUSIC_TRACKS","main_menu","name","url","volume","loop","peaceful_village","forest_exploration","dungeon_explore","combat_easy","combat_hard","boss_fight","tavern","victory","defeat","MusicManager","constructor","currentTrack","audio","enabled","fadeDuration","play","trackKey","options","track","console","warn","paused","fade","fadeOut","startNewTrack","pause","Audio","then","fadeIn","catch","err","error","log","targetVolume","steps","stepDuration","volumeStep","currentStep","interval","setInterval","clearInterval","Math","min","callback","startVolume","max","stop","setVolume","setEnabled","getCurrentTrack","key","musicManager","detectAndPlayMusic","narration","inCombat","lower","toLowerCase","includes","setTimeout"],"sources":["C:/Users/Hakty/Desktop/AI-Dungeon-Master/frontend/src/utils/musicSystem.js"],"sourcesContent":["// frontend/src/utils/musicSystem.js\n\n/**\n * Background Music System\n * Uses free music from various sources\n */\n\n// Music tracks (using royalty-free music URLs)\nexport const MUSIC_TRACKS = {\n  // Main themes\n  main_menu: {\n    name: 'Main Menu Theme',\n    url: 'https://cdn.pixabay.com/audio/2022/03/10/audio_d1718372d8.mp3', // Epic Fantasy\n    volume: 0.3,\n    loop: true\n  },\n  \n  // Exploration music\n  peaceful_village: {\n    name: 'Peaceful Village',\n    url: 'https://cdn.pixabay.com/audio/2022/05/27/audio_1808fbf07a.mp3', // Calm Village\n    volume: 0.25,\n    loop: true\n  },\n  \n  forest_exploration: {\n    name: 'Forest Exploration',\n    url: 'https://cdn.pixabay.com/audio/2023/02/28/audio_64a8030714.mp3', // Forest Ambience\n    volume: 0.25,\n    loop: true\n  },\n  \n  dungeon_explore: {\n    name: 'Dark Dungeon',\n    url: 'https://cdn.pixabay.com/audio/2022/11/28/audio_1e0d3c15e3.mp3', // Dark Ambience\n    volume: 0.3,\n    loop: true\n  },\n  \n  // Combat music\n  combat_easy: {\n    name: 'Battle - Easy',\n    url: 'https://cdn.pixabay.com/audio/2022/03/15/audio_13697b3a7f.mp3', // Action Music\n    volume: 0.35,\n    loop: true\n  },\n  \n  combat_hard: {\n    name: 'Battle - Hard',\n    url: 'https://cdn.pixabay.com/audio/2022/10/25/audio_57b23c6eb5.mp3', // Epic Battle\n    volume: 0.4,\n    loop: true\n  },\n  \n  boss_fight: {\n    name: 'Boss Battle',\n    url: 'https://cdn.pixabay.com/audio/2023/09/04/audio_8b7e764b9c.mp3', // Boss Theme\n    volume: 0.45,\n    loop: true\n  },\n  \n  // Special locations\n  tavern: {\n    name: 'Tavern',\n    url: 'https://cdn.pixabay.com/audio/2022/08/02/audio_0625c1539c.mp3', // Tavern Music\n    volume: 0.2,\n    loop: true\n  },\n  \n  victory: {\n    name: 'Victory!',\n    url: 'https://cdn.pixabay.com/audio/2022/03/24/audio_c2c6e01cd2.mp3', // Victory Fanfare\n    volume: 0.4,\n    loop: false\n  },\n  \n  defeat: {\n    name: 'Defeat',\n    url: 'https://cdn.pixabay.com/audio/2022/11/14/audio_6a0e8c0c06.mp3', // Sad Theme\n    volume: 0.3,\n    loop: false\n  }\n};\n\n// Music manager class\nexport class MusicManager {\n  constructor() {\n    this.currentTrack = null;\n    this.audio = null;\n    this.volume = 0.3;\n    this.enabled = true;\n    this.fadeDuration = 2000; // 2 seconds crossfade\n  }\n\n  /**\n   * Play a track\n   */\n  play(trackKey, options = {}) {\n    if (!this.enabled) return;\n\n    const track = MUSIC_TRACKS[trackKey];\n    if (!track) {\n      console.warn('Track not found:', trackKey);\n      return;\n    }\n\n    // If same track is already playing, don't restart\n    if (this.currentTrack === trackKey && this.audio && !this.audio.paused) {\n      return;\n    }\n\n    const fade = options.fade !== false;\n    const volume = options.volume || track.volume || this.volume;\n\n    // Stop current track\n    if (this.audio) {\n      if (fade) {\n        this.fadeOut(() => {\n          this.startNewTrack(trackKey, track, volume);\n        });\n      } else {\n        this.audio.pause();\n        this.startNewTrack(trackKey, track, volume);\n      }\n    } else {\n      this.startNewTrack(trackKey, track, volume);\n    }\n  }\n\n  /**\n   * Start playing a new track\n   */\n  startNewTrack(trackKey, track, volume) {\n    this.audio = new Audio(track.url);\n    this.audio.loop = track.loop !== false;\n    this.audio.volume = 0;\n    this.currentTrack = trackKey;\n\n    this.audio.play().then(() => {\n      this.fadeIn(volume);\n    }).catch(err => {\n      console.error('Failed to play music:', err);\n    });\n\n    console.log('ðŸŽµ Now playing:', track.name);\n  }\n\n  /**\n   * Fade in\n   */\n  fadeIn(targetVolume) {\n    if (!this.audio) return;\n\n    const steps = 20;\n    const stepDuration = this.fadeDuration / steps;\n    const volumeStep = targetVolume / steps;\n\n    let currentStep = 0;\n    const interval = setInterval(() => {\n      if (!this.audio) {\n        clearInterval(interval);\n        return;\n      }\n\n      currentStep++;\n      this.audio.volume = Math.min(volumeStep * currentStep, targetVolume);\n\n      if (currentStep >= steps) {\n        clearInterval(interval);\n      }\n    }, stepDuration);\n  }\n\n  /**\n   * Fade out\n   */\n  fadeOut(callback) {\n    if (!this.audio) {\n      if (callback) callback();\n      return;\n    }\n\n    const startVolume = this.audio.volume;\n    const steps = 20;\n    const stepDuration = this.fadeDuration / steps;\n    const volumeStep = startVolume / steps;\n\n    let currentStep = 0;\n    const interval = setInterval(() => {\n      if (!this.audio) {\n        clearInterval(interval);\n        if (callback) callback();\n        return;\n      }\n\n      currentStep++;\n      this.audio.volume = Math.max(startVolume - (volumeStep * currentStep), 0);\n\n      if (currentStep >= steps) {\n        clearInterval(interval);\n        this.audio.pause();\n        if (callback) callback();\n      }\n    }, stepDuration);\n  }\n\n  /**\n   * Stop music\n   */\n  stop(fade = true) {\n    if (!this.audio) return;\n\n    if (fade) {\n      this.fadeOut(() => {\n        this.audio = null;\n        this.currentTrack = null;\n      });\n    } else {\n      this.audio.pause();\n      this.audio = null;\n      this.currentTrack = null;\n    }\n  }\n\n  /**\n   * Set volume\n   */\n  setVolume(volume) {\n    this.volume = Math.max(0, Math.min(1, volume));\n    if (this.audio) {\n      this.audio.volume = this.volume;\n    }\n  }\n\n  /**\n   * Toggle enabled\n   */\n  setEnabled(enabled) {\n    this.enabled = enabled;\n    if (!enabled && this.audio) {\n      this.stop();\n    }\n  }\n\n  /**\n   * Get current track info\n   */\n  getCurrentTrack() {\n    if (!this.currentTrack) return null;\n    return {\n      key: this.currentTrack,\n      ...MUSIC_TRACKS[this.currentTrack]\n    };\n  }\n}\n\n// Singleton instance\nexport const musicManager = new MusicManager();\n\n/**\n * Detect scene type from narration and play appropriate music\n */\nexport function detectAndPlayMusic(narration, inCombat = false) {\n  const lower = narration.toLowerCase();\n\n  // Combat takes priority\n  if (inCombat) {\n    if (lower.includes('boss') || lower.includes('dragon') || lower.includes('ancient')) {\n      musicManager.play('boss_fight');\n    } else if (lower.includes('fierce') || lower.includes('deadly') || lower.includes('overwhelming')) {\n      musicManager.play('combat_hard');\n    } else {\n      musicManager.play('combat_easy');\n    }\n    return;\n  }\n\n  // Victory/Defeat\n  if (lower.includes('victory') || lower.includes('defeated all') || lower.includes('triumph')) {\n    musicManager.play('victory');\n    // Return to exploration after victory music\n    setTimeout(() => {\n      musicManager.play('peaceful_village');\n    }, 10000);\n    return;\n  }\n\n  if (lower.includes('defeat') || lower.includes('fallen') || lower.includes('death')) {\n    musicManager.play('defeat');\n    return;\n  }\n\n  // Locations\n  if (lower.includes('tavern') || lower.includes('inn') || lower.includes('alehouse')) {\n    musicManager.play('tavern');\n    return;\n  }\n\n  if (lower.includes('dungeon') || lower.includes('cave') || lower.includes('crypt') || lower.includes('tomb')) {\n    musicManager.play('dungeon_explore');\n    return;\n  }\n\n  if (lower.includes('forest') || lower.includes('woods') || lower.includes('grove')) {\n    musicManager.play('forest_exploration');\n    return;\n  }\n\n  if (lower.includes('village') || lower.includes('town') || lower.includes('city') || lower.includes('peaceful')) {\n    musicManager.play('peaceful_village');\n    return;\n  }\n\n  // Default to peaceful exploration if no music is playing\n  if (!musicManager.currentTrack) {\n    musicManager.play('peaceful_village');\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}