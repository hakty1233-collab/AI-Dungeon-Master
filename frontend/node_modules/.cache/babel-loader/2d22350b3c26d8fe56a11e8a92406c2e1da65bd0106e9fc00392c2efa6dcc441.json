{"ast":null,"code":"// frontend/src/utils/questSystem.js\n\n/**\n * Quest Tracker System\n * Detects, tracks, and manages quests\n */\n\n// Quest status types\nexport const QUEST_STATUS = {\n  ACTIVE: 'active',\n  COMPLETED: 'completed',\n  FAILED: 'failed',\n  ABANDONED: 'abandoned'\n};\n\n// Quest types\nexport const QUEST_TYPES = {\n  MAIN: 'main',\n  // Main story quests\n  SIDE: 'side',\n  // Side quests\n  PERSONAL: 'personal',\n  // Character-specific\n  FACTION: 'faction',\n  // Faction-related\n  BOUNTY: 'bounty' // Bounties/contracts\n};\n\n/**\n * Create a new quest\n */\nexport function createQuest({\n  title,\n  description,\n  giver = 'Unknown',\n  type = QUEST_TYPES.SIDE,\n  objectives = [],\n  rewards = {},\n  level = 1\n}) {\n  return {\n    id: `quest_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    title,\n    description,\n    giver,\n    type,\n    objectives: objectives.map((obj, index) => ({\n      id: `obj_${index}`,\n      description: obj,\n      completed: false,\n      progress: 0,\n      required: 1\n    })),\n    rewards: {\n      xp: rewards.xp || 100,\n      gold: rewards.gold || 0,\n      items: rewards.items || [],\n      ...rewards\n    },\n    status: QUEST_STATUS.ACTIVE,\n    level,\n    startedAt: new Date().toISOString(),\n    completedAt: null,\n    notes: []\n  };\n}\n\n/**\n * Detect quest keywords in narration\n */\nconst QUEST_TRIGGERS = {\n  start: [\n  // Direct requests\n  'i need you to', 'i need your help', 'i have a task', 'can you help', 'will you', 'would you', 'could you help',\n  // Quest language\n  'quest for you', 'job for you', 'mission', 'task', 'favor',\n  // Action verbs\n  'seek out', 'retrieve', 'find', 'deliver', 'investigate', 'defeat', 'protect', 'escort', 'gather', 'collect', 'bring me', 'bring us', 'get me', 'fetch',\n  // Help requests\n  'help me', 'help us', 'assist me', 'aid me',\n  // Requests\n  'please', 'if you could', 'i ask you',\n  // Problems\n  'there\\'s a problem', 'we have a problem', 'something wrong', 'in trouble', 'need assistance'],\n  complete: ['quest complete', 'well done', 'you succeeded', 'task accomplished', 'mission accomplished', 'you\\'ve done it', 'excellent work', 'you have completed', 'objective achieved', 'mission complete', 'thank you for', 'you did it', 'success', 'completed the'],\n  update: ['you found', 'you collected', 'you defeated', 'progress', 'objective updated', 'one down', 'that\\'s one', 'you gathered', 'you retrieved', 'halfway there'],\n  fail: ['quest failed', 'you failed', 'too late', 'mission failed', 'lost forever', 'can no longer', 'opportunity lost', 'failed to', 'time has run out']\n};\n\n/**\n * Detect quest events in DM narration\n */\nexport function detectQuestEvents(narration) {\n  console.log(\"ðŸ” QUEST DETECTION - Analyzing narration:\", narration.substring(0, 200) + \"...\");\n  const lowerText = narration.toLowerCase();\n  const events = [];\n\n  // Check for quest start\n  console.log(\"ðŸ” Checking for quest start keywords...\");\n  const foundStartTriggers = QUEST_TRIGGERS.start.filter(trigger => lowerText.includes(trigger));\n  console.log(\"ðŸ” Found start triggers:\", foundStartTriggers);\n  if (QUEST_TRIGGERS.start.some(trigger => lowerText.includes(trigger))) {\n    console.log(\"âœ… Quest start trigger detected!\");\n    const questData = extractQuestFromNarration(narration);\n    console.log(\"ðŸ“œ Extracted quest data:\", questData);\n    if (questData) {\n      events.push({\n        type: 'quest_started',\n        quest: questData\n      });\n      console.log(\"âœ… Quest event created!\");\n    } else {\n      console.log(\"âŒ Quest data extraction failed\");\n    }\n  }\n\n  // Check for quest completion\n  if (QUEST_TRIGGERS.complete.some(trigger => lowerText.includes(trigger))) {\n    console.log(\"âœ… Quest completion trigger detected!\");\n    events.push({\n      type: 'quest_completed',\n      keywords: QUEST_TRIGGERS.complete.filter(t => lowerText.includes(t))\n    });\n  }\n\n  // Check for quest updates\n  if (QUEST_TRIGGERS.update.some(trigger => lowerText.includes(trigger))) {\n    console.log(\"âœ… Quest update trigger detected!\");\n    events.push({\n      type: 'quest_updated',\n      keywords: QUEST_TRIGGERS.update.filter(t => lowerText.includes(t))\n    });\n  }\n\n  // Check for quest failure\n  if (QUEST_TRIGGERS.fail.some(trigger => lowerText.includes(trigger))) {\n    console.log(\"âœ… Quest failure trigger detected!\");\n    events.push({\n      type: 'quest_failed',\n      keywords: QUEST_TRIGGERS.fail.filter(t => lowerText.includes(t))\n    });\n  }\n  console.log(\"ðŸŽ¯ Total quest events found:\", events.length);\n  return events;\n}\n\n/**\n * Extract quest details from narration (basic implementation)\n */\nfunction extractQuestFromNarration(narration) {\n  // Look for quest-like sentences\n  const sentences = narration.split(/[.!?]+/).map(s => s.trim()).filter(Boolean);\n  for (const sentence of sentences) {\n    const lower = sentence.toLowerCase();\n\n    // Try to find quest title and objective\n    if (QUEST_TRIGGERS.start.some(trigger => lower.includes(trigger))) {\n      // Extract what comes after the trigger\n      let title = 'New Quest';\n      let description = sentence;\n      let objectives = [];\n\n      // Try to extract objectives\n      if (lower.includes('find')) {\n        const match = sentence.match(/find\\s+(?:the\\s+)?([^,.!?]+)/i);\n        if (match) {\n          title = `Find ${match[1]}`;\n          objectives.push(`Find ${match[1]}`);\n        }\n      } else if (lower.includes('defeat') || lower.includes('kill')) {\n        const match = sentence.match(/(?:defeat|kill)\\s+(?:the\\s+)?([^,.!?]+)/i);\n        if (match) {\n          title = `Defeat ${match[1]}`;\n          objectives.push(`Defeat ${match[1]}`);\n        }\n      } else if (lower.includes('retrieve') || lower.includes('collect')) {\n        const match = sentence.match(/(?:retrieve|collect)\\s+(?:the\\s+)?([^,.!?]+)/i);\n        if (match) {\n          title = `Retrieve ${match[1]}`;\n          objectives.push(`Retrieve ${match[1]}`);\n        }\n      } else if (lower.includes('deliver')) {\n        const match = sentence.match(/deliver\\s+(?:the\\s+)?([^,.!?]+)/i);\n        if (match) {\n          title = `Deliver ${match[1]}`;\n          objectives.push(`Deliver ${match[1]}`);\n        }\n      }\n      if (objectives.length > 0) {\n        return {\n          title,\n          description,\n          objectives,\n          type: QUEST_TYPES.SIDE,\n          giver: 'Quest Giver',\n          rewards: {\n            xp: 150,\n            gold: 50\n          }\n        };\n      }\n    }\n  }\n  return null;\n}\n\n/**\n * Update quest objective\n */\nexport function updateQuestObjective(quest, objectiveId, progress = 1) {\n  const objectives = quest.objectives.map(obj => {\n    if (obj.id === objectiveId) {\n      const newProgress = Math.min(obj.required, obj.progress + progress);\n      return {\n        ...obj,\n        progress: newProgress,\n        completed: newProgress >= obj.required\n      };\n    }\n    return obj;\n  });\n\n  // Check if all objectives completed\n  const allCompleted = objectives.every(obj => obj.completed);\n  return {\n    ...quest,\n    objectives,\n    status: allCompleted ? QUEST_STATUS.COMPLETED : quest.status,\n    completedAt: allCompleted ? new Date().toISOString() : null\n  };\n}\n\n/**\n * Complete a quest\n */\nexport function completeQuest(quest) {\n  return {\n    ...quest,\n    status: QUEST_STATUS.COMPLETED,\n    completedAt: new Date().toISOString(),\n    objectives: quest.objectives.map(obj => ({\n      ...obj,\n      completed: true,\n      progress: obj.required\n    }))\n  };\n}\n\n/**\n * Fail a quest\n */\nexport function failQuest(quest, reason = '') {\n  return {\n    ...quest,\n    status: QUEST_STATUS.FAILED,\n    completedAt: new Date().toISOString(),\n    notes: [...quest.notes, `Failed: ${reason}`]\n  };\n}\n\n/**\n * Add note to quest\n */\nexport function addQuestNote(quest, note) {\n  return {\n    ...quest,\n    notes: [...quest.notes, {\n      text: note,\n      timestamp: new Date().toISOString()\n    }]\n  };\n}\n\n/**\n * Get active quests\n */\nexport function getActiveQuests(quests) {\n  return quests.filter(q => q.status === QUEST_STATUS.ACTIVE);\n}\n\n/**\n * Get completed quests\n */\nexport function getCompletedQuests(quests) {\n  return quests.filter(q => q.status === QUEST_STATUS.COMPLETED);\n}\n\n/**\n * Find quest by title (fuzzy match)\n */\nexport function findQuestByTitle(quests, title) {\n  const lowerTitle = title.toLowerCase();\n  return quests.find(q => q.title.toLowerCase().includes(lowerTitle) || lowerTitle.includes(q.title.toLowerCase()));\n}","map":{"version":3,"names":["QUEST_STATUS","ACTIVE","COMPLETED","FAILED","ABANDONED","QUEST_TYPES","MAIN","SIDE","PERSONAL","FACTION","BOUNTY","createQuest","title","description","giver","type","objectives","rewards","level","id","Date","now","Math","random","toString","substr","map","obj","index","completed","progress","required","xp","gold","items","status","startedAt","toISOString","completedAt","notes","QUEST_TRIGGERS","start","complete","update","fail","detectQuestEvents","narration","console","log","substring","lowerText","toLowerCase","events","foundStartTriggers","filter","trigger","includes","some","questData","extractQuestFromNarration","push","quest","keywords","t","length","sentences","split","s","trim","Boolean","sentence","lower","match","updateQuestObjective","objectiveId","newProgress","min","allCompleted","every","completeQuest","failQuest","reason","addQuestNote","note","text","timestamp","getActiveQuests","quests","q","getCompletedQuests","findQuestByTitle","lowerTitle","find"],"sources":["C:/Users/Hakty/Desktop/AI-Dungeon-Master/frontend/src/utils/questSystem.js"],"sourcesContent":["// frontend/src/utils/questSystem.js\n\n/**\n * Quest Tracker System\n * Detects, tracks, and manages quests\n */\n\n// Quest status types\nexport const QUEST_STATUS = {\n  ACTIVE: 'active',\n  COMPLETED: 'completed',\n  FAILED: 'failed',\n  ABANDONED: 'abandoned'\n};\n\n// Quest types\nexport const QUEST_TYPES = {\n  MAIN: 'main',        // Main story quests\n  SIDE: 'side',        // Side quests\n  PERSONAL: 'personal', // Character-specific\n  FACTION: 'faction',   // Faction-related\n  BOUNTY: 'bounty'     // Bounties/contracts\n};\n\n/**\n * Create a new quest\n */\nexport function createQuest({\n  title,\n  description,\n  giver = 'Unknown',\n  type = QUEST_TYPES.SIDE,\n  objectives = [],\n  rewards = {},\n  level = 1\n}) {\n  return {\n    id: `quest_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    title,\n    description,\n    giver,\n    type,\n    objectives: objectives.map((obj, index) => ({\n      id: `obj_${index}`,\n      description: obj,\n      completed: false,\n      progress: 0,\n      required: 1\n    })),\n    rewards: {\n      xp: rewards.xp || 100,\n      gold: rewards.gold || 0,\n      items: rewards.items || [],\n      ...rewards\n    },\n    status: QUEST_STATUS.ACTIVE,\n    level,\n    startedAt: new Date().toISOString(),\n    completedAt: null,\n    notes: []\n  };\n}\n\n/**\n * Detect quest keywords in narration\n */\nconst QUEST_TRIGGERS = {\n  start: [\n    // Direct requests\n    'i need you to', 'i need your help', 'i have a task', 'can you help', \n    'will you', 'would you', 'could you help',\n    \n    // Quest language\n    'quest for you', 'job for you', 'mission', 'task', 'favor',\n    \n    // Action verbs\n    'seek out', 'retrieve', 'find', 'deliver', 'investigate', \n    'defeat', 'protect', 'escort', 'gather', 'collect',\n    'bring me', 'bring us', 'get me', 'fetch',\n    \n    // Help requests\n    'help me', 'help us', 'assist me', 'aid me',\n    \n    // Requests\n    'please', 'if you could', 'i ask you',\n    \n    // Problems\n    'there\\'s a problem', 'we have a problem', 'something wrong',\n    'in trouble', 'need assistance'\n  ],\n  \n  complete: [\n    'quest complete', 'well done', 'you succeeded', 'task accomplished',\n    'mission accomplished', 'you\\'ve done it', 'excellent work',\n    'you have completed', 'objective achieved', 'mission complete',\n    'thank you for', 'you did it', 'success', 'completed the'\n  ],\n  \n  update: [\n    'you found', 'you collected', 'you defeated', 'progress',\n    'objective updated', 'one down', 'that\\'s one',\n    'you gathered', 'you retrieved', 'halfway there'\n  ],\n  \n  fail: [\n    'quest failed', 'you failed', 'too late', 'mission failed',\n    'lost forever', 'can no longer', 'opportunity lost',\n    'failed to', 'time has run out'\n  ]\n};\n\n/**\n * Detect quest events in DM narration\n */\nexport function detectQuestEvents(narration) {\n  console.log(\"ðŸ” QUEST DETECTION - Analyzing narration:\", narration.substring(0, 200) + \"...\");\n  \n  const lowerText = narration.toLowerCase();\n  const events = [];\n\n  // Check for quest start\n  console.log(\"ðŸ” Checking for quest start keywords...\");\n  const foundStartTriggers = QUEST_TRIGGERS.start.filter(trigger => lowerText.includes(trigger));\n  console.log(\"ðŸ” Found start triggers:\", foundStartTriggers);\n  \n  if (QUEST_TRIGGERS.start.some(trigger => lowerText.includes(trigger))) {\n    console.log(\"âœ… Quest start trigger detected!\");\n    const questData = extractQuestFromNarration(narration);\n    console.log(\"ðŸ“œ Extracted quest data:\", questData);\n    \n    if (questData) {\n      events.push({\n        type: 'quest_started',\n        quest: questData\n      });\n      console.log(\"âœ… Quest event created!\");\n    } else {\n      console.log(\"âŒ Quest data extraction failed\");\n    }\n  }\n\n  // Check for quest completion\n  if (QUEST_TRIGGERS.complete.some(trigger => lowerText.includes(trigger))) {\n    console.log(\"âœ… Quest completion trigger detected!\");\n    events.push({\n      type: 'quest_completed',\n      keywords: QUEST_TRIGGERS.complete.filter(t => lowerText.includes(t))\n    });\n  }\n\n  // Check for quest updates\n  if (QUEST_TRIGGERS.update.some(trigger => lowerText.includes(trigger))) {\n    console.log(\"âœ… Quest update trigger detected!\");\n    events.push({\n      type: 'quest_updated',\n      keywords: QUEST_TRIGGERS.update.filter(t => lowerText.includes(t))\n    });\n  }\n\n  // Check for quest failure\n  if (QUEST_TRIGGERS.fail.some(trigger => lowerText.includes(trigger))) {\n    console.log(\"âœ… Quest failure trigger detected!\");\n    events.push({\n      type: 'quest_failed',\n      keywords: QUEST_TRIGGERS.fail.filter(t => lowerText.includes(t))\n    });\n  }\n\n  console.log(\"ðŸŽ¯ Total quest events found:\", events.length);\n  return events;\n}\n\n/**\n * Extract quest details from narration (basic implementation)\n */\nfunction extractQuestFromNarration(narration) {\n  // Look for quest-like sentences\n  const sentences = narration.split(/[.!?]+/).map(s => s.trim()).filter(Boolean);\n  \n  for (const sentence of sentences) {\n    const lower = sentence.toLowerCase();\n    \n    // Try to find quest title and objective\n    if (QUEST_TRIGGERS.start.some(trigger => lower.includes(trigger))) {\n      // Extract what comes after the trigger\n      let title = 'New Quest';\n      let description = sentence;\n      let objectives = [];\n      \n      // Try to extract objectives\n      if (lower.includes('find')) {\n        const match = sentence.match(/find\\s+(?:the\\s+)?([^,.!?]+)/i);\n        if (match) {\n          title = `Find ${match[1]}`;\n          objectives.push(`Find ${match[1]}`);\n        }\n      } else if (lower.includes('defeat') || lower.includes('kill')) {\n        const match = sentence.match(/(?:defeat|kill)\\s+(?:the\\s+)?([^,.!?]+)/i);\n        if (match) {\n          title = `Defeat ${match[1]}`;\n          objectives.push(`Defeat ${match[1]}`);\n        }\n      } else if (lower.includes('retrieve') || lower.includes('collect')) {\n        const match = sentence.match(/(?:retrieve|collect)\\s+(?:the\\s+)?([^,.!?]+)/i);\n        if (match) {\n          title = `Retrieve ${match[1]}`;\n          objectives.push(`Retrieve ${match[1]}`);\n        }\n      } else if (lower.includes('deliver')) {\n        const match = sentence.match(/deliver\\s+(?:the\\s+)?([^,.!?]+)/i);\n        if (match) {\n          title = `Deliver ${match[1]}`;\n          objectives.push(`Deliver ${match[1]}`);\n        }\n      }\n      \n      if (objectives.length > 0) {\n        return {\n          title,\n          description,\n          objectives,\n          type: QUEST_TYPES.SIDE,\n          giver: 'Quest Giver',\n          rewards: { xp: 150, gold: 50 }\n        };\n      }\n    }\n  }\n  \n  return null;\n}\n\n/**\n * Update quest objective\n */\nexport function updateQuestObjective(quest, objectiveId, progress = 1) {\n  const objectives = quest.objectives.map(obj => {\n    if (obj.id === objectiveId) {\n      const newProgress = Math.min(obj.required, obj.progress + progress);\n      return {\n        ...obj,\n        progress: newProgress,\n        completed: newProgress >= obj.required\n      };\n    }\n    return obj;\n  });\n\n  // Check if all objectives completed\n  const allCompleted = objectives.every(obj => obj.completed);\n  \n  return {\n    ...quest,\n    objectives,\n    status: allCompleted ? QUEST_STATUS.COMPLETED : quest.status,\n    completedAt: allCompleted ? new Date().toISOString() : null\n  };\n}\n\n/**\n * Complete a quest\n */\nexport function completeQuest(quest) {\n  return {\n    ...quest,\n    status: QUEST_STATUS.COMPLETED,\n    completedAt: new Date().toISOString(),\n    objectives: quest.objectives.map(obj => ({\n      ...obj,\n      completed: true,\n      progress: obj.required\n    }))\n  };\n}\n\n/**\n * Fail a quest\n */\nexport function failQuest(quest, reason = '') {\n  return {\n    ...quest,\n    status: QUEST_STATUS.FAILED,\n    completedAt: new Date().toISOString(),\n    notes: [...quest.notes, `Failed: ${reason}`]\n  };\n}\n\n/**\n * Add note to quest\n */\nexport function addQuestNote(quest, note) {\n  return {\n    ...quest,\n    notes: [...quest.notes, {\n      text: note,\n      timestamp: new Date().toISOString()\n    }]\n  };\n}\n\n/**\n * Get active quests\n */\nexport function getActiveQuests(quests) {\n  return quests.filter(q => q.status === QUEST_STATUS.ACTIVE);\n}\n\n/**\n * Get completed quests\n */\nexport function getCompletedQuests(quests) {\n  return quests.filter(q => q.status === QUEST_STATUS.COMPLETED);\n}\n\n/**\n * Find quest by title (fuzzy match)\n */\nexport function findQuestByTitle(quests, title) {\n  const lowerTitle = title.toLowerCase();\n  return quests.find(q => \n    q.title.toLowerCase().includes(lowerTitle) ||\n    lowerTitle.includes(q.title.toLowerCase())\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}