{"ast":null,"code":"import { create } from \"zustand\";\nexport const useCampaignStore = create(set => ({\n  campaign: null,\n  party: [],\n  lastResponse: \"\",\n  voiceMode: true,\n  micListening: false,\n  setCampaign: campaign => {\n    var _campaign$history, _campaign$history$sli;\n    return set({\n      campaign: {\n        ...campaign\n      },\n      // ðŸ”‘ create new object reference\n      party: campaign.party || [],\n      lastResponse: ((_campaign$history = campaign.history) === null || _campaign$history === void 0 ? void 0 : (_campaign$history$sli = _campaign$history.slice(-1)[0]) === null || _campaign$history$sli === void 0 ? void 0 : _campaign$history$sli.content) || \"The adventure begins...\"\n    });\n  },\n  updateFromDM: ({\n    aiResponse,\n    campaignState\n  }) => set({\n    campaign: {\n      ...campaignState\n    },\n    // ðŸ”‘ new reference for React to detect\n    lastResponse: aiResponse,\n    party: campaignState.party || []\n  }),\n  toggleMic: () => set(state => ({\n    micListening: !state.micListening\n  })),\n  toggleVoice: () => set(state => ({\n    voiceMode: !state.voiceMode\n  }))\n}));","map":{"version":3,"names":["create","useCampaignStore","set","campaign","party","lastResponse","voiceMode","micListening","setCampaign","_campaign$history","_campaign$history$sli","history","slice","content","updateFromDM","aiResponse","campaignState","toggleMic","state","toggleVoice"],"sources":["C:/Users/Hakty/Desktop/AI-Dungeon-Master/frontend/src/state/campaignStore.js"],"sourcesContent":["import { create } from \"zustand\";\n\nexport const useCampaignStore = create((set) => ({\n  campaign: null,\n  party: [],\n  lastResponse: \"\",\n  voiceMode: true,\n  micListening: false,\n\n  setCampaign: (campaign) =>\n    set({\n      campaign: { ...campaign }, // ðŸ”‘ create new object reference\n      party: campaign.party || [],\n      lastResponse: campaign.history?.slice(-1)[0]?.content || \"The adventure begins...\",\n    }),\n\n  updateFromDM: ({ aiResponse, campaignState }) =>\n    set({\n      campaign: { ...campaignState }, // ðŸ”‘ new reference for React to detect\n      lastResponse: aiResponse,\n      party: campaignState.party || [],\n    }),\n\n  toggleMic: () => set((state) => ({ micListening: !state.micListening })),\n  toggleVoice: () => set((state) => ({ voiceMode: !state.voiceMode })),\n}));\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAEhC,OAAO,MAAMC,gBAAgB,GAAGD,MAAM,CAAEE,GAAG,KAAM;EAC/CC,QAAQ,EAAE,IAAI;EACdC,KAAK,EAAE,EAAE;EACTC,YAAY,EAAE,EAAE;EAChBC,SAAS,EAAE,IAAI;EACfC,YAAY,EAAE,KAAK;EAEnBC,WAAW,EAAGL,QAAQ;IAAA,IAAAM,iBAAA,EAAAC,qBAAA;IAAA,OACpBR,GAAG,CAAC;MACFC,QAAQ,EAAE;QAAE,GAAGA;MAAS,CAAC;MAAE;MAC3BC,KAAK,EAAED,QAAQ,CAACC,KAAK,IAAI,EAAE;MAC3BC,YAAY,EAAE,EAAAI,iBAAA,GAAAN,QAAQ,CAACQ,OAAO,cAAAF,iBAAA,wBAAAC,qBAAA,GAAhBD,iBAAA,CAAkBG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,cAAAF,qBAAA,uBAA9BA,qBAAA,CAAgCG,OAAO,KAAI;IAC3D,CAAC,CAAC;EAAA;EAEJC,YAAY,EAAEA,CAAC;IAAEC,UAAU;IAAEC;EAAc,CAAC,KAC1Cd,GAAG,CAAC;IACFC,QAAQ,EAAE;MAAE,GAAGa;IAAc,CAAC;IAAE;IAChCX,YAAY,EAAEU,UAAU;IACxBX,KAAK,EAAEY,aAAa,CAACZ,KAAK,IAAI;EAChC,CAAC,CAAC;EAEJa,SAAS,EAAEA,CAAA,KAAMf,GAAG,CAAEgB,KAAK,KAAM;IAAEX,YAAY,EAAE,CAACW,KAAK,CAACX;EAAa,CAAC,CAAC,CAAC;EACxEY,WAAW,EAAEA,CAAA,KAAMjB,GAAG,CAAEgB,KAAK,KAAM;IAAEZ,SAAS,EAAE,CAACY,KAAK,CAACZ;EAAU,CAAC,CAAC;AACrE,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}