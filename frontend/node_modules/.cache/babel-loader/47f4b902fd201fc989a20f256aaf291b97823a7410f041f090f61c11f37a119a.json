{"ast":null,"code":"import { create } from \"zustand\";\nexport const useCampaignStore = create((set, get) => ({\n  // Current campaign object returned from backend\n  campaign: null,\n  // Party members\n  party: [],\n  // Last DM response (optional)\n  lastResponse: \"\",\n  // Voice / mic\n  voiceMode: false,\n  micListening: false,\n  // Update state from a new DM response\n  updateFromDM: dmResponse => set(state => {\n    var _state$campaign;\n    const newHistory = [...(((_state$campaign = state.campaign) === null || _state$campaign === void 0 ? void 0 : _state$campaign.history) || []), {\n      role: \"assistant\",\n      content: dmResponse.aiResponse\n    }];\n    return {\n      campaign: {\n        ...state.campaign,\n        history: newHistory\n      },\n      lastResponse: dmResponse.aiResponse\n    };\n  }),\n  // Set the full campaign (used when starting a new campaign)\n  setCampaign: campaign => set({\n    campaign,\n    party: campaign.party || []\n  }),\n  // Toggle mic listening\n  toggleMic: () => set(state => ({\n    micListening: !state.micListening\n  }))\n}));","map":{"version":3,"names":["create","useCampaignStore","set","get","campaign","party","lastResponse","voiceMode","micListening","updateFromDM","dmResponse","state","_state$campaign","newHistory","history","role","content","aiResponse","setCampaign","toggleMic"],"sources":["C:/Users/Hakty/Desktop/AI-Dungeon-Master/frontend/src/state/campaignStore.js"],"sourcesContent":["import { create } from \"zustand\";\n\nexport const useCampaignStore = create((set, get) => ({\n  // Current campaign object returned from backend\n  campaign: null,\n\n  // Party members\n  party: [],\n\n  // Last DM response (optional)\n  lastResponse: \"\",\n\n  // Voice / mic\n  voiceMode: false,\n  micListening: false,\n\n  // Update state from a new DM response\n  updateFromDM: (dmResponse) =>\n    set((state) => {\n      const newHistory = [\n        ...(state.campaign?.history || []),\n        { role: \"assistant\", content: dmResponse.aiResponse },\n      ];\n      return {\n        campaign: { ...state.campaign, history: newHistory },\n        lastResponse: dmResponse.aiResponse,\n      };\n    }),\n\n  // Set the full campaign (used when starting a new campaign)\n  setCampaign: (campaign) => set({ campaign, party: campaign.party || [] }),\n\n  // Toggle mic listening\n  toggleMic: () => set((state) => ({ micListening: !state.micListening })),\n}));\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAEhC,OAAO,MAAMC,gBAAgB,GAAGD,MAAM,CAAC,CAACE,GAAG,EAAEC,GAAG,MAAM;EACpD;EACAC,QAAQ,EAAE,IAAI;EAEd;EACAC,KAAK,EAAE,EAAE;EAET;EACAC,YAAY,EAAE,EAAE;EAEhB;EACAC,SAAS,EAAE,KAAK;EAChBC,YAAY,EAAE,KAAK;EAEnB;EACAC,YAAY,EAAGC,UAAU,IACvBR,GAAG,CAAES,KAAK,IAAK;IAAA,IAAAC,eAAA;IACb,MAAMC,UAAU,GAAG,CACjB,IAAI,EAAAD,eAAA,GAAAD,KAAK,CAACP,QAAQ,cAAAQ,eAAA,uBAAdA,eAAA,CAAgBE,OAAO,KAAI,EAAE,CAAC,EAClC;MAAEC,IAAI,EAAE,WAAW;MAAEC,OAAO,EAAEN,UAAU,CAACO;IAAW,CAAC,CACtD;IACD,OAAO;MACLb,QAAQ,EAAE;QAAE,GAAGO,KAAK,CAACP,QAAQ;QAAEU,OAAO,EAAED;MAAW,CAAC;MACpDP,YAAY,EAAEI,UAAU,CAACO;IAC3B,CAAC;EACH,CAAC,CAAC;EAEJ;EACAC,WAAW,EAAGd,QAAQ,IAAKF,GAAG,CAAC;IAAEE,QAAQ;IAAEC,KAAK,EAAED,QAAQ,CAACC,KAAK,IAAI;EAAG,CAAC,CAAC;EAEzE;EACAc,SAAS,EAAEA,CAAA,KAAMjB,GAAG,CAAES,KAAK,KAAM;IAAEH,YAAY,EAAE,CAACG,KAAK,CAACH;EAAa,CAAC,CAAC;AACzE,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}