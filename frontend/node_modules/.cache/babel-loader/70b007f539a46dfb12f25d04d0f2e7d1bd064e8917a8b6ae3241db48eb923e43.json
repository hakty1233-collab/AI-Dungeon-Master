{"ast":null,"code":"import { create } from \"zustand\";\nexport const useCampaignStore = create(set => ({\n  // --- STATE ---\n  players: [],\n  campaign: {\n    systemPrompt: \"\",\n    gameState: {},\n    history: []\n  },\n  // --- ACTIONS ---\n  setPlayers: players => set({\n    players\n  }),\n  updatePlayer: (index, updatedPlayer) => set(state => {\n    const newPlayers = [...state.players];\n    newPlayers[index] = updatedPlayer;\n    return {\n      players: newPlayers\n    };\n  }),\n  startCampaign: systemPrompt => set(state => ({\n    campaign: {\n      systemPrompt,\n      gameState: {\n        players: state.players\n      },\n      history: []\n    }\n  })),\n  updateFromDM: dmResponse => set(state => ({\n    campaign: {\n      ...state.campaign,\n      history: [...state.campaign.history, {\n        role: \"assistant\",\n        content: dmResponse.narration\n      }]\n    }\n  }))\n}));","map":{"version":3,"names":["create","useCampaignStore","set","players","campaign","systemPrompt","gameState","history","setPlayers","updatePlayer","index","updatedPlayer","state","newPlayers","startCampaign","updateFromDM","dmResponse","role","content","narration"],"sources":["C:/Users/Hakty/Desktop/AI-Dungeon-Master/frontend/src/state/campaignStore.js"],"sourcesContent":["import { create } from \"zustand\";\n\nexport const useCampaignStore = create((set) => ({\n  // --- STATE ---\n  players: [],\n  campaign: {\n    systemPrompt: \"\",\n    gameState: {},\n    history: [],\n  },\n\n  // --- ACTIONS ---\n  setPlayers: (players) =>\n    set({\n      players,\n    }),\n\n  updatePlayer: (index, updatedPlayer) =>\n    set((state) => {\n      const newPlayers = [...state.players];\n      newPlayers[index] = updatedPlayer;\n      return { players: newPlayers };\n    }),\n\n  startCampaign: (systemPrompt) =>\n    set((state) => ({\n      campaign: {\n        systemPrompt,\n        gameState: {\n          players: state.players,\n        },\n        history: [],\n      },\n    })),\n\n  updateFromDM: (dmResponse) =>\n    set((state) => ({\n      campaign: {\n        ...state.campaign,\n        history: [\n          ...state.campaign.history,\n          { role: \"assistant\", content: dmResponse.narration },\n        ],\n      },\n    })),\n}));\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAEhC,OAAO,MAAMC,gBAAgB,GAAGD,MAAM,CAAEE,GAAG,KAAM;EAC/C;EACAC,OAAO,EAAE,EAAE;EACXC,QAAQ,EAAE;IACRC,YAAY,EAAE,EAAE;IAChBC,SAAS,EAAE,CAAC,CAAC;IACbC,OAAO,EAAE;EACX,CAAC;EAED;EACAC,UAAU,EAAGL,OAAO,IAClBD,GAAG,CAAC;IACFC;EACF,CAAC,CAAC;EAEJM,YAAY,EAAEA,CAACC,KAAK,EAAEC,aAAa,KACjCT,GAAG,CAAEU,KAAK,IAAK;IACb,MAAMC,UAAU,GAAG,CAAC,GAAGD,KAAK,CAACT,OAAO,CAAC;IACrCU,UAAU,CAACH,KAAK,CAAC,GAAGC,aAAa;IACjC,OAAO;MAAER,OAAO,EAAEU;IAAW,CAAC;EAChC,CAAC,CAAC;EAEJC,aAAa,EAAGT,YAAY,IAC1BH,GAAG,CAAEU,KAAK,KAAM;IACdR,QAAQ,EAAE;MACRC,YAAY;MACZC,SAAS,EAAE;QACTH,OAAO,EAAES,KAAK,CAACT;MACjB,CAAC;MACDI,OAAO,EAAE;IACX;EACF,CAAC,CAAC,CAAC;EAELQ,YAAY,EAAGC,UAAU,IACvBd,GAAG,CAAEU,KAAK,KAAM;IACdR,QAAQ,EAAE;MACR,GAAGQ,KAAK,CAACR,QAAQ;MACjBG,OAAO,EAAE,CACP,GAAGK,KAAK,CAACR,QAAQ,CAACG,OAAO,EACzB;QAAEU,IAAI,EAAE,WAAW;QAAEC,OAAO,EAAEF,UAAU,CAACG;MAAU,CAAC;IAExD;EACF,CAAC,CAAC;AACN,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}