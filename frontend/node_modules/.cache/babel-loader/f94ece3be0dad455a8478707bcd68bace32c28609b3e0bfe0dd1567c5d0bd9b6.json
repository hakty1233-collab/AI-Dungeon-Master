{"ast":null,"code":"// frontend/src/utils/musicSceneDetection.js\n\n/**\n * Auto Scene Detection for Background Music\n * Analyzes DM narration and suggests appropriate music tracks\n */\n\n// Scene keywords mapped to music tracks\nconst SCENE_PATTERNS = {\n  // Combat scenes\n  combat: {\n    keywords: ['battle', 'fight', 'combat', 'attack', 'weapon', 'sword', 'enemy', 'foe', 'charge', 'strike'],\n    tracks: {\n      easy: 'combat_easy',\n      hard: 'combat_hard',\n      boss: 'boss_fight'\n    }\n  },\n  // Locations\n  tavern: {\n    keywords: ['tavern', 'inn', 'alehouse', 'pub', 'bar', 'drink', 'ale', 'beer'],\n    track: 'tavern'\n  },\n  dungeon: {\n    keywords: ['dungeon', 'cave', 'crypt', 'tomb', 'underground', 'dark corridor', 'chamber', 'vault'],\n    track: 'dungeon_explore'\n  },\n  forest: {\n    keywords: ['forest', 'woods', 'trees', 'grove', 'woodland', 'jungle', 'foliage'],\n    track: 'forest_exploration'\n  },\n  village: {\n    keywords: ['village', 'town', 'city', 'settlement', 'marketplace', 'square', 'peaceful', 'street'],\n    track: 'peaceful_village'\n  },\n  // Special events\n  victory: {\n    keywords: ['victory', 'triumph', 'defeated all', 'won the battle', 'enemies fall', 'victorious'],\n    track: 'victory'\n  },\n  defeat: {\n    keywords: ['defeat', 'fallen', 'death', 'party falls', 'overwhelmed', 'last breath'],\n    track: 'defeat'\n  },\n  // Boss indicators\n  boss: {\n    keywords: ['boss', 'dragon', 'ancient', 'lord', 'king', 'queen', 'master', 'overlord', 'legendary', 'powerful being']\n  }\n};\n\n/**\n * Analyze narration text and detect the scene type\n */\nexport function detectScene(narration, inCombat = false) {\n  if (!narration) return null;\n  const lowerText = narration.toLowerCase();\n  console.log('ðŸ” Analyzing scene from narration...');\n\n  // Priority 1: Check for victory/defeat (highest priority)\n  if (hasKeywords(lowerText, SCENE_PATTERNS.victory.keywords)) {\n    console.log('ðŸŽ‰ Victory detected!');\n    return {\n      type: 'victory',\n      track: 'victory',\n      reason: 'Victory celebration'\n    };\n  }\n  if (hasKeywords(lowerText, SCENE_PATTERNS.defeat.keywords)) {\n    console.log('ðŸ’€ Defeat detected');\n    return {\n      type: 'defeat',\n      track: 'defeat',\n      reason: 'Defeat theme'\n    };\n  }\n\n  // Priority 2: Combat state (if actively in combat)\n  if (inCombat) {\n    console.log('âš”ï¸ Combat is active');\n\n    // Check for boss fight\n    if (hasKeywords(lowerText, SCENE_PATTERNS.boss.keywords)) {\n      console.log('ðŸ‰ Boss battle detected!');\n      return {\n        type: 'boss_combat',\n        track: 'boss_fight',\n        reason: 'Boss battle music'\n      };\n    }\n\n    // Check for intensity indicators\n    if (hasKeywords(lowerText, ['fierce', 'deadly', 'overwhelming', 'powerful', 'dangerous'])) {\n      console.log('ðŸ”¥ Hard combat detected');\n      return {\n        type: 'hard_combat',\n        track: 'combat_hard',\n        reason: 'Intense battle music'\n      };\n    }\n    console.log('âš”ï¸ Standard combat');\n    return {\n      type: 'easy_combat',\n      track: 'combat_easy',\n      reason: 'Combat music'\n    };\n  }\n\n  // Priority 3: Check for combat starting (even if not marked as in combat yet)\n  if (hasKeywords(lowerText, SCENE_PATTERNS.combat.keywords)) {\n    console.log('âš”ï¸ Combat scene detected in narration');\n    if (hasKeywords(lowerText, SCENE_PATTERNS.boss.keywords)) {\n      return {\n        type: 'boss_combat',\n        track: 'boss_fight',\n        reason: 'Boss encounter'\n      };\n    }\n    return {\n      type: 'combat',\n      track: 'combat_easy',\n      reason: 'Battle begins'\n    };\n  }\n\n  // Priority 4: Specific locations\n  if (hasKeywords(lowerText, SCENE_PATTERNS.tavern.keywords)) {\n    console.log('ðŸº Tavern detected');\n    return {\n      type: 'tavern',\n      track: 'tavern',\n      reason: 'Tavern ambience'\n    };\n  }\n  if (hasKeywords(lowerText, SCENE_PATTERNS.dungeon.keywords)) {\n    console.log('ðŸšï¸ Dungeon detected');\n    return {\n      type: 'dungeon',\n      track: 'dungeon_explore',\n      reason: 'Dark dungeon exploration'\n    };\n  }\n  if (hasKeywords(lowerText, SCENE_PATTERNS.forest.keywords)) {\n    console.log('ðŸŒ² Forest detected');\n    return {\n      type: 'forest',\n      track: 'forest_exploration',\n      reason: 'Forest exploration'\n    };\n  }\n  if (hasKeywords(lowerText, SCENE_PATTERNS.village.keywords)) {\n    console.log('ðŸ˜ï¸ Village/town detected');\n    return {\n      type: 'village',\n      track: 'peaceful_village',\n      reason: 'Village exploration'\n    };\n  }\n\n  // Default: No scene change detected\n  console.log('ðŸ” No specific scene detected, keeping current music');\n  return null;\n}\n\n/**\n * Check if text contains any of the keywords\n */\nfunction hasKeywords(text, keywords) {\n  return keywords.some(keyword => text.includes(keyword));\n}\n\n/**\n * Get appropriate track for combat based on context\n */\nexport function getCombatTrack(narration, isBossFight = false) {\n  if (isBossFight) return 'boss_fight';\n  const lowerText = (narration === null || narration === void 0 ? void 0 : narration.toLowerCase()) || '';\n  if (hasKeywords(lowerText, SCENE_PATTERNS.boss.keywords)) {\n    return 'boss_fight';\n  }\n  if (hasKeywords(lowerText, ['fierce', 'deadly', 'overwhelming', 'horde', 'powerful'])) {\n    return 'combat_hard';\n  }\n  return 'combat_easy';\n}\n\n/**\n * Handle scene transition with music change\n * Call this function from GameScreen after receiving DM response\n */\nexport function handleSceneTransition(narration, inCombat, musicSystemRef) {\n  if (!musicSystemRef || !narration) return;\n  const scene = detectScene(narration, inCombat);\n  if (scene) {\n    console.log(`ðŸŽµ Scene change: ${scene.type} â†’ ${scene.track}`);\n    console.log(`   Reason: ${scene.reason}`);\n\n    // Call the music system's playTrack method\n    if (musicSystemRef.playTrack) {\n      musicSystemRef.playTrack(scene.track);\n    }\n    return scene;\n  }\n  return null;\n}","map":{"version":3,"names":["SCENE_PATTERNS","combat","keywords","tracks","easy","hard","boss","tavern","track","dungeon","forest","village","victory","defeat","detectScene","narration","inCombat","lowerText","toLowerCase","console","log","hasKeywords","type","reason","text","some","keyword","includes","getCombatTrack","isBossFight","handleSceneTransition","musicSystemRef","scene","playTrack"],"sources":["C:/Users/Hakty/Desktop/AI-Dungeon-Master/frontend/src/utils/musicSceneDetection.js"],"sourcesContent":["// frontend/src/utils/musicSceneDetection.js\n\n/**\n * Auto Scene Detection for Background Music\n * Analyzes DM narration and suggests appropriate music tracks\n */\n\n// Scene keywords mapped to music tracks\nconst SCENE_PATTERNS = {\n  // Combat scenes\n  combat: {\n    keywords: ['battle', 'fight', 'combat', 'attack', 'weapon', 'sword', 'enemy', 'foe', 'charge', 'strike'],\n    tracks: {\n      easy: 'combat_easy',\n      hard: 'combat_hard',\n      boss: 'boss_fight'\n    }\n  },\n  \n  // Locations\n  tavern: {\n    keywords: ['tavern', 'inn', 'alehouse', 'pub', 'bar', 'drink', 'ale', 'beer'],\n    track: 'tavern'\n  },\n  \n  dungeon: {\n    keywords: ['dungeon', 'cave', 'crypt', 'tomb', 'underground', 'dark corridor', 'chamber', 'vault'],\n    track: 'dungeon_explore'\n  },\n  \n  forest: {\n    keywords: ['forest', 'woods', 'trees', 'grove', 'woodland', 'jungle', 'foliage'],\n    track: 'forest_exploration'\n  },\n  \n  village: {\n    keywords: ['village', 'town', 'city', 'settlement', 'marketplace', 'square', 'peaceful', 'street'],\n    track: 'peaceful_village'\n  },\n  \n  // Special events\n  victory: {\n    keywords: ['victory', 'triumph', 'defeated all', 'won the battle', 'enemies fall', 'victorious'],\n    track: 'victory'\n  },\n  \n  defeat: {\n    keywords: ['defeat', 'fallen', 'death', 'party falls', 'overwhelmed', 'last breath'],\n    track: 'defeat'\n  },\n  \n  // Boss indicators\n  boss: {\n    keywords: ['boss', 'dragon', 'ancient', 'lord', 'king', 'queen', 'master', 'overlord', 'legendary', 'powerful being']\n  }\n};\n\n/**\n * Analyze narration text and detect the scene type\n */\nexport function detectScene(narration, inCombat = false) {\n  if (!narration) return null;\n  \n  const lowerText = narration.toLowerCase();\n  \n  console.log('ðŸ” Analyzing scene from narration...');\n  \n  // Priority 1: Check for victory/defeat (highest priority)\n  if (hasKeywords(lowerText, SCENE_PATTERNS.victory.keywords)) {\n    console.log('ðŸŽ‰ Victory detected!');\n    return {\n      type: 'victory',\n      track: 'victory',\n      reason: 'Victory celebration'\n    };\n  }\n  \n  if (hasKeywords(lowerText, SCENE_PATTERNS.defeat.keywords)) {\n    console.log('ðŸ’€ Defeat detected');\n    return {\n      type: 'defeat',\n      track: 'defeat',\n      reason: 'Defeat theme'\n    };\n  }\n  \n  // Priority 2: Combat state (if actively in combat)\n  if (inCombat) {\n    console.log('âš”ï¸ Combat is active');\n    \n    // Check for boss fight\n    if (hasKeywords(lowerText, SCENE_PATTERNS.boss.keywords)) {\n      console.log('ðŸ‰ Boss battle detected!');\n      return {\n        type: 'boss_combat',\n        track: 'boss_fight',\n        reason: 'Boss battle music'\n      };\n    }\n    \n    // Check for intensity indicators\n    if (hasKeywords(lowerText, ['fierce', 'deadly', 'overwhelming', 'powerful', 'dangerous'])) {\n      console.log('ðŸ”¥ Hard combat detected');\n      return {\n        type: 'hard_combat',\n        track: 'combat_hard',\n        reason: 'Intense battle music'\n      };\n    }\n    \n    console.log('âš”ï¸ Standard combat');\n    return {\n      type: 'easy_combat',\n      track: 'combat_easy',\n      reason: 'Combat music'\n    };\n  }\n  \n  // Priority 3: Check for combat starting (even if not marked as in combat yet)\n  if (hasKeywords(lowerText, SCENE_PATTERNS.combat.keywords)) {\n    console.log('âš”ï¸ Combat scene detected in narration');\n    \n    if (hasKeywords(lowerText, SCENE_PATTERNS.boss.keywords)) {\n      return {\n        type: 'boss_combat',\n        track: 'boss_fight',\n        reason: 'Boss encounter'\n      };\n    }\n    \n    return {\n      type: 'combat',\n      track: 'combat_easy',\n      reason: 'Battle begins'\n    };\n  }\n  \n  // Priority 4: Specific locations\n  if (hasKeywords(lowerText, SCENE_PATTERNS.tavern.keywords)) {\n    console.log('ðŸº Tavern detected');\n    return {\n      type: 'tavern',\n      track: 'tavern',\n      reason: 'Tavern ambience'\n    };\n  }\n  \n  if (hasKeywords(lowerText, SCENE_PATTERNS.dungeon.keywords)) {\n    console.log('ðŸšï¸ Dungeon detected');\n    return {\n      type: 'dungeon',\n      track: 'dungeon_explore',\n      reason: 'Dark dungeon exploration'\n    };\n  }\n  \n  if (hasKeywords(lowerText, SCENE_PATTERNS.forest.keywords)) {\n    console.log('ðŸŒ² Forest detected');\n    return {\n      type: 'forest',\n      track: 'forest_exploration',\n      reason: 'Forest exploration'\n    };\n  }\n  \n  if (hasKeywords(lowerText, SCENE_PATTERNS.village.keywords)) {\n    console.log('ðŸ˜ï¸ Village/town detected');\n    return {\n      type: 'village',\n      track: 'peaceful_village',\n      reason: 'Village exploration'\n    };\n  }\n  \n  // Default: No scene change detected\n  console.log('ðŸ” No specific scene detected, keeping current music');\n  return null;\n}\n\n/**\n * Check if text contains any of the keywords\n */\nfunction hasKeywords(text, keywords) {\n  return keywords.some(keyword => text.includes(keyword));\n}\n\n/**\n * Get appropriate track for combat based on context\n */\nexport function getCombatTrack(narration, isBossFight = false) {\n  if (isBossFight) return 'boss_fight';\n  \n  const lowerText = narration?.toLowerCase() || '';\n  \n  if (hasKeywords(lowerText, SCENE_PATTERNS.boss.keywords)) {\n    return 'boss_fight';\n  }\n  \n  if (hasKeywords(lowerText, ['fierce', 'deadly', 'overwhelming', 'horde', 'powerful'])) {\n    return 'combat_hard';\n  }\n  \n  return 'combat_easy';\n}\n\n/**\n * Handle scene transition with music change\n * Call this function from GameScreen after receiving DM response\n */\nexport function handleSceneTransition(narration, inCombat, musicSystemRef) {\n  if (!musicSystemRef || !narration) return;\n  \n  const scene = detectScene(narration, inCombat);\n  \n  if (scene) {\n    console.log(`ðŸŽµ Scene change: ${scene.type} â†’ ${scene.track}`);\n    console.log(`   Reason: ${scene.reason}`);\n    \n    // Call the music system's playTrack method\n    if (musicSystemRef.playTrack) {\n      musicSystemRef.playTrack(scene.track);\n    }\n    \n    return scene;\n  }\n  \n  return null;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}