{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hakty\\\\Desktop\\\\AI-Dungeon-Master\\\\frontend\\\\src\\\\components\\\\CombatTracker.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/components/CombatTracker.jsx - WITH STATUS EFFECTS INTEGRATION\nimport { useState } from 'react';\nimport { executeAttack, nextTurn, checkCombatEnd, getCurrentCombatant, updateCombatant, applyDamage } from '../utils/combatSystem';\nimport { processStatusEffectsOnTurnStart, getAttackModifiers, checkConcentration, hasStatusEffect, STATUS_EFFECTS } from '../utils/statusEffectSystem';\nimport StatusEffectsPanel from './StatusEffectsPanel';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CombatTracker({\n  combat,\n  onUpdate,\n  onEnd,\n  party,\n  updateParty\n}) {\n  _s();\n  const [selectedTarget, setSelectedTarget] = useState(null);\n  const [combatLog, setCombatLog] = useState([]);\n  const [actionType, setActionType] = useState('attack');\n  if (!combat || !combat.isActive) return null;\n  const currentCombatant = getCurrentCombatant(combat);\n  const isPlayerTurn = !currentCombatant.isEnemy;\n  const handleAttack = (attackIndex = 0) => {\n    if (!selectedTarget) {\n      alert('Select a target first!');\n      return;\n    }\n\n    // Check if attacker can act\n    if (hasStatusEffect(currentCombatant, STATUS_EFFECTS.INCAPACITATED) || hasStatusEffect(currentCombatant, STATUS_EFFECTS.STUNNED) || hasStatusEffect(currentCombatant, STATUS_EFFECTS.PARALYZED) || hasStatusEffect(currentCombatant, STATUS_EFFECTS.UNCONSCIOUS)) {\n      setCombatLog([`‚ùå ${currentCombatant.name} cannot act due to status effects!`, ...combatLog]);\n      return;\n    }\n\n    // Get advantage/disadvantage from status effects\n    const attackMods = getAttackModifiers(currentCombatant, selectedTarget);\n    const result = executeAttack(currentCombatant, selectedTarget, attackIndex);\n\n    // Modify attack based on status effects\n    let modifiedResult = {\n      ...result\n    };\n    if (attackMods.advantage && !attackMods.disadvantage) {\n      // Roll again and take higher\n      const secondRoll = executeAttack(currentCombatant, selectedTarget, attackIndex);\n      if (secondRoll.attackRoll.totalRoll > result.attackRoll.totalRoll) {\n        modifiedResult = secondRoll;\n      }\n      setCombatLog([`üé≤ Attack with ADVANTAGE!`, ...combatLog]);\n    } else if (attackMods.disadvantage && !attackMods.advantage) {\n      // Roll again and take lower\n      const secondRoll = executeAttack(currentCombatant, selectedTarget, attackIndex);\n      if (secondRoll.attackRoll.totalRoll < result.attackRoll.totalRoll) {\n        modifiedResult = secondRoll;\n      }\n      setCombatLog([`üé≤ Attack with DISADVANTAGE!`, ...combatLog]);\n    }\n\n    // Log the attack\n    const logEntry = modifiedResult.attackRoll.isCritical ? `üí• CRITICAL HIT! ${modifiedResult.attacker} hits ${modifiedResult.target} with ${modifiedResult.attack} for ${modifiedResult.damage} ${modifiedResult.damageType} damage!` : modifiedResult.attackRoll.isFumble ? `‚ùå FUMBLE! ${modifiedResult.attacker} misses ${modifiedResult.target} with ${modifiedResult.attack}!` : modifiedResult.attackRoll.isHit ? `‚öîÔ∏è ${modifiedResult.attacker} hits ${modifiedResult.target} with ${modifiedResult.attack} for ${modifiedResult.damage} ${modifiedResult.damageType} damage!` : `üõ°Ô∏è ${modifiedResult.attacker} misses ${modifiedResult.target} with ${modifiedResult.attack}!`;\n    setCombatLog([logEntry, ...combatLog]);\n\n    // Apply damage\n    if (modifiedResult.attackRoll.isHit) {\n      const damagedTarget = applyDamage(selectedTarget, modifiedResult.damage, modifiedResult.damageType);\n      let updatedCombat = updateCombatant(combat, selectedTarget.id || selectedTarget.name, damagedTarget);\n\n      // Check concentration if target was concentrating\n      if (!selectedTarget.isEnemy && hasStatusEffect(selectedTarget, STATUS_EFFECTS.CONCENTRATING)) {\n        const concentrationCheck = checkConcentration(selectedTarget, modifiedResult.damage);\n        if (concentrationCheck.concentrationBroken) {\n          setCombatLog([`üí´ ${selectedTarget.name} loses concentration on ${concentrationCheck.spellName}!`, ...combatLog]);\n\n          // Update party member\n          if (party && updateParty) {\n            const updatedParty = party.map(p => {\n              if (p.name === selectedTarget.name) {\n                return {\n                  ...p,\n                  conditions: (p.conditions || []).filter(c => c.type !== STATUS_EFFECTS.CONCENTRATING)\n                };\n              }\n              return p;\n            });\n            updateParty(updatedParty);\n          }\n        } else {\n          setCombatLog([`üßò ${selectedTarget.name} maintains concentration (DC ${concentrationCheck.dc}, rolled ${concentrationCheck.total})`, ...combatLog]);\n        }\n      }\n\n      // Check if target died\n      if (damagedTarget.isDead) {\n        setCombatLog([`üíÄ ${damagedTarget.name} has been defeated!`, ...combatLog]);\n      }\n      onUpdate(updatedCombat);\n\n      // Check combat end\n      const endCheck = checkCombatEnd(updatedCombat);\n      if (endCheck.ended) {\n        setTimeout(() => onEnd(endCheck), 1000);\n        return;\n      }\n    }\n    handleEndTurn();\n  };\n  const handleEndTurn = () => {\n    setSelectedTarget(null);\n    const newCombat = nextTurn(combat);\n\n    // Process status effects at start of new turn\n    const nextCombatant = getCurrentCombatant(newCombat);\n    const statusResult = processStatusEffectsOnTurnStart(nextCombatant);\n\n    // Log damage from status effects\n    if (statusResult.damageLog.length > 0) {\n      statusResult.damageLog.forEach(log => {\n        setCombatLog([`üî• ${nextCombatant.name} takes ${log.damage} ${log.damageType} damage from ${log.effect}!`, ...combatLog]);\n      });\n    }\n\n    // Log removed effects\n    if (statusResult.removedEffects.length > 0) {\n      setCombatLog([`‚ú® Status effects expired on ${nextCombatant.name}`, ...combatLog]);\n    }\n\n    // Update combatant with processed status effects\n    const updatedCombat = updateCombatant(newCombat, nextCombatant.id || nextCombatant.name, statusResult.character);\n    onUpdate(updatedCombat);\n\n    // Auto enemy turn\n    setTimeout(() => {\n      var _updatedCombat$combat;\n      if ((_updatedCombat$combat = updatedCombat.combatants[updatedCombat.currentTurn]) !== null && _updatedCombat$combat !== void 0 && _updatedCombat$combat.isEnemy) {\n        handleEnemyTurn(updatedCombat);\n      }\n    }, 500);\n  };\n  const handleEnemyTurn = currentCombat => {\n    const enemy = getCurrentCombatant(currentCombat);\n    if (enemy.isDead) {\n      handleEndTurn();\n      return;\n    }\n\n    // Check if enemy can act\n    if (hasStatusEffect(enemy, STATUS_EFFECTS.INCAPACITATED) || hasStatusEffect(enemy, STATUS_EFFECTS.STUNNED) || hasStatusEffect(enemy, STATUS_EFFECTS.PARALYZED) || hasStatusEffect(enemy, STATUS_EFFECTS.UNCONSCIOUS)) {\n      setCombatLog([`‚ùå ${enemy.name} cannot act due to status effects!`, ...combatLog]);\n      setTimeout(() => handleEndTurn(), 1500);\n      return;\n    }\n\n    // Pick random alive party member\n    const aliveParty = currentCombat.combatants.filter(c => !c.isEnemy && !c.isDead);\n    if (aliveParty.length === 0) return;\n    const target = aliveParty[Math.floor(Math.random() * aliveParty.length)];\n\n    // Get advantage/disadvantage\n    const attackMods = getAttackModifiers(enemy, target);\n    const result = executeAttack(enemy, target, 0);\n    let modifiedResult = {\n      ...result\n    };\n    if (attackMods.advantage && !attackMods.disadvantage) {\n      const secondRoll = executeAttack(enemy, target, 0);\n      if (secondRoll.attackRoll.totalRoll > result.attackRoll.totalRoll) {\n        modifiedResult = secondRoll;\n      }\n    } else if (attackMods.disadvantage && !attackMods.advantage) {\n      const secondRoll = executeAttack(enemy, target, 0);\n      if (secondRoll.attackRoll.totalRoll < result.attackRoll.totalRoll) {\n        modifiedResult = secondRoll;\n      }\n    }\n    const logEntry = modifiedResult.attackRoll.isCritical ? `üí• CRITICAL! ${modifiedResult.attacker} critically hits ${modifiedResult.target} for ${modifiedResult.damage} damage!` : modifiedResult.attackRoll.isHit ? `‚öîÔ∏è ${modifiedResult.attacker} hits ${modifiedResult.target} for ${modifiedResult.damage} damage!` : `üõ°Ô∏è ${modifiedResult.attacker} misses ${modifiedResult.target}!`;\n    setCombatLog([logEntry, ...combatLog]);\n    if (modifiedResult.attackRoll.isHit) {\n      const damagedTarget = applyDamage(target, modifiedResult.damage, modifiedResult.damageType);\n      let updatedCombat = updateCombatant(currentCombat, target.id || target.name, damagedTarget);\n\n      // Check concentration for party members\n      if (!target.isEnemy && hasStatusEffect(target, STATUS_EFFECTS.CONCENTRATING)) {\n        const concentrationCheck = checkConcentration(target, modifiedResult.damage);\n        if (concentrationCheck.concentrationBroken) {\n          setCombatLog([`üí´ ${target.name} loses concentration!`, ...combatLog]);\n          if (party && updateParty) {\n            const updatedParty = party.map(p => {\n              if (p.name === target.name) {\n                return {\n                  ...p,\n                  hp: damagedTarget.hp,\n                  conditions: (p.conditions || []).filter(c => c.type !== STATUS_EFFECTS.CONCENTRATING)\n                };\n              }\n              return p;\n            });\n            updateParty(updatedParty);\n          }\n        }\n      }\n      if (damagedTarget.isDead) {\n        setCombatLog([`üíÄ ${damagedTarget.name} has fallen!`, ...combatLog]);\n      }\n      onUpdate(updatedCombat);\n      const endCheck = checkCombatEnd(updatedCombat);\n      if (endCheck.ended) {\n        setTimeout(() => onEnd(endCheck), 1000);\n        return;\n      }\n    }\n    setTimeout(() => handleEndTurn(), 1500);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundColor: '#1a1a1a',\n      border: '3px solid #d32f2f',\n      borderBottom: 'none',\n      padding: '20px',\n      maxHeight: '60vh',\n      overflowY: 'auto',\n      zIndex: 1000,\n      boxShadow: '0 -4px 20px rgba(211,47,47,0.4)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '15px',\n        paddingBottom: '15px',\n        borderBottom: '2px solid #444'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          margin: 0,\n          color: '#d32f2f',\n          fontSize: '24px'\n        },\n        children: [\"\\u2694\\uFE0F Combat - Round \", combat.round]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onEnd({\n          ended: true,\n          result: 'flee',\n          message: 'Combat ended'\n        }),\n        style: {\n          padding: '8px 16px',\n          backgroundColor: '#666',\n          color: 'white',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: 'pointer'\n        },\n        children: \"End Combat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '10px',\n        marginBottom: '15px',\n        overflowX: 'auto',\n        paddingBottom: '10px'\n      },\n      children: combat.combatants.map((combatant, index) => {\n        var _combatant$conditions;\n        const activeEffects = ((_combatant$conditions = combatant.conditions) === null || _combatant$conditions === void 0 ? void 0 : _combatant$conditions.length) || 0;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            minWidth: '140px',\n            padding: '10px',\n            backgroundColor: index === combat.currentTurn ? '#d32f2f' : '#2a2a2a',\n            border: index === combat.currentTurn ? '3px solid #ffd700' : '2px solid #444',\n            borderRadius: '8px',\n            opacity: combatant.isDead ? 0.3 : 1,\n            position: 'relative'\n          },\n          children: [index === combat.currentTurn && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: '-15px',\n              left: '50%',\n              transform: 'translateX(-50%)',\n              fontSize: '24px'\n            },\n            children: \"\\u2B07\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: combatant.isEnemy ? '#ff6b6b' : '#4CAF50',\n              marginBottom: '5px'\n            },\n            children: [combatant.isEnemy ? 'üëπ' : 'üõ°Ô∏è', \" Initiative: \", combatant.initiative]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 'bold',\n              marginBottom: '5px',\n              fontSize: '14px'\n            },\n            children: combatant.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              marginBottom: '5px'\n            },\n            children: [\"HP: \", combatant.hp, \"/\", combatant.maxHp]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              height: '6px',\n              backgroundColor: '#1a1a1a',\n              borderRadius: '3px',\n              marginBottom: '5px',\n              overflow: 'hidden'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: `${combatant.hp / combatant.maxHp * 100}%`,\n                height: '100%',\n                backgroundColor: combatant.hp > combatant.maxHp * 0.5 ? '#4CAF50' : combatant.hp > combatant.maxHp * 0.25 ? '#ff9800' : '#f44336',\n                transition: 'width 0.3s'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), activeEffects > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: '5px',\n              right: '5px',\n              backgroundColor: '#ff9800',\n              color: 'white',\n              borderRadius: '50%',\n              width: '20px',\n              height: '20px',\n              fontSize: '11px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontWeight: 'bold'\n            },\n            children: activeEffects\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(StatusEffectsPanel, {\n            character: combatant,\n            onUpdateCharacter: updated => {\n              const updatedCombat = updateCombatant(combat, combatant.id || combatant.name, updated);\n              onUpdate(updatedCombat);\n            },\n            compact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this), combatant.isDead && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '40px'\n            },\n            children: \"\\uD83D\\uDC80\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 17\n          }, this)]\n        }, combatant.id || combatant.name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#0a0a0a',\n        padding: '10px',\n        borderRadius: '8px',\n        marginBottom: '15px',\n        maxHeight: '100px',\n        overflowY: 'auto',\n        border: '1px solid #444'\n      },\n      children: combatLog.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0,\n          color: '#888',\n          fontStyle: 'italic'\n        },\n        children: \"Combat begins...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 11\n      }, this) : combatLog.map((log, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '5px',\n          marginBottom: '3px',\n          color: '#eee',\n          fontSize: '14px'\n        },\n        children: log\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#2a2a2a',\n        padding: '15px',\n        borderRadius: '8px',\n        border: '2px solid #ffd700'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '0 0 10px 0',\n          color: '#ffd700'\n        },\n        children: [currentCombatant.name, \"'s Turn\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), isPlayerTurn && !currentCombatant.isDead && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [hasStatusEffect(currentCombatant, STATUS_EFFECTS.INCAPACITATED) || hasStatusEffect(currentCombatant, STATUS_EFFECTS.STUNNED) || hasStatusEffect(currentCombatant, STATUS_EFFECTS.PARALYZED) || hasStatusEffect(currentCombatant, STATUS_EFFECTS.UNCONSCIOUS) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '12px',\n            backgroundColor: '#d32f2f',\n            borderRadius: '8px',\n            marginBottom: '15px',\n            color: 'white',\n            fontWeight: 'bold'\n          },\n          children: \"\\u26A0\\uFE0F Cannot act due to status effects!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '8px',\n                fontWeight: 'bold'\n              },\n              children: \"Select Target:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px',\n                flexWrap: 'wrap'\n              },\n              children: combat.combatants.filter(c => c.isEnemy && !c.isDead).map(enemy => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setSelectedTarget(enemy),\n                style: {\n                  padding: '10px 15px',\n                  backgroundColor: (selectedTarget === null || selectedTarget === void 0 ? void 0 : selectedTarget.name) === enemy.name ? '#d32f2f' : '#444',\n                  color: 'white',\n                  border: (selectedTarget === null || selectedTarget === void 0 ? void 0 : selectedTarget.name) === enemy.name ? '2px solid #ffd700' : 'none',\n                  borderRadius: '5px',\n                  cursor: 'pointer',\n                  fontWeight: (selectedTarget === null || selectedTarget === void 0 ? void 0 : selectedTarget.name) === enemy.name ? 'bold' : 'normal'\n                },\n                children: [enemy.name, \" (HP: \", enemy.hp, \"/\", enemy.maxHp, \")\"]\n              }, enemy.id || enemy.name, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 17\n          }, this), currentCombatant.attacks && currentCombatant.attacks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              style: {\n                display: 'block',\n                marginBottom: '8px',\n                fontWeight: 'bold'\n              },\n              children: \"Attack:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px'\n              },\n              children: currentCombatant.attacks.map((attack, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleAttack(index),\n                disabled: !selectedTarget,\n                style: {\n                  padding: '12px 20px',\n                  backgroundColor: selectedTarget ? '#4CAF50' : '#333',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '8px',\n                  cursor: selectedTarget ? 'pointer' : 'not-allowed',\n                  fontSize: '16px',\n                  fontWeight: 'bold',\n                  opacity: selectedTarget ? 1 : 0.5\n                },\n                children: [\"\\u2694\\uFE0F \", attack.name, \" (+\", attack.bonus, \", \", attack.damage, \")\"]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEndTurn,\n          style: {\n            padding: '10px 20px',\n            backgroundColor: '#666',\n            color: 'white',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer'\n          },\n          children: \"End Turn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 11\n      }, this), !isPlayerTurn && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0,\n          color: '#ff6b6b',\n          fontStyle: 'italic'\n        },\n        children: \"Enemy is thinking...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 11\n      }, this), currentCombatant.isDead && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 0,\n          color: '#888'\n        },\n        children: \"This combatant is defeated.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n}\n_s(CombatTracker, \"rroC1sURxfu1yVuclyG730ApZRg=\");\n_c = CombatTracker;\nvar _c;\n$RefreshReg$(_c, \"CombatTracker\");","map":{"version":3,"names":["useState","executeAttack","nextTurn","checkCombatEnd","getCurrentCombatant","updateCombatant","applyDamage","processStatusEffectsOnTurnStart","getAttackModifiers","checkConcentration","hasStatusEffect","STATUS_EFFECTS","StatusEffectsPanel","jsxDEV","_jsxDEV","Fragment","_Fragment","CombatTracker","combat","onUpdate","onEnd","party","updateParty","_s","selectedTarget","setSelectedTarget","combatLog","setCombatLog","actionType","setActionType","isActive","currentCombatant","isPlayerTurn","isEnemy","handleAttack","attackIndex","alert","INCAPACITATED","STUNNED","PARALYZED","UNCONSCIOUS","name","attackMods","result","modifiedResult","advantage","disadvantage","secondRoll","attackRoll","totalRoll","logEntry","isCritical","attacker","target","attack","damage","damageType","isFumble","isHit","damagedTarget","updatedCombat","id","CONCENTRATING","concentrationCheck","concentrationBroken","spellName","updatedParty","map","p","conditions","filter","c","type","dc","total","isDead","endCheck","ended","setTimeout","handleEndTurn","newCombat","nextCombatant","statusResult","damageLog","length","forEach","log","effect","removedEffects","character","_updatedCombat$combat","combatants","currentTurn","handleEnemyTurn","currentCombat","enemy","aliveParty","Math","floor","random","hp","style","position","bottom","left","right","backgroundColor","border","borderBottom","padding","maxHeight","overflowY","zIndex","boxShadow","children","display","justifyContent","alignItems","marginBottom","paddingBottom","margin","color","fontSize","round","fileName","_jsxFileName","lineNumber","columnNumber","onClick","message","borderRadius","cursor","gap","overflowX","combatant","index","_combatant$conditions","activeEffects","minWidth","opacity","top","transform","initiative","fontWeight","maxHp","width","height","overflow","transition","onUpdateCharacter","updated","compact","fontStyle","i","flexWrap","attacks","disabled","bonus","_c","$RefreshReg$"],"sources":["C:/Users/Hakty/Desktop/AI-Dungeon-Master/frontend/src/components/CombatTracker.jsx"],"sourcesContent":["// frontend/src/components/CombatTracker.jsx - WITH STATUS EFFECTS INTEGRATION\nimport { useState } from 'react';\nimport { \n  executeAttack, \n  nextTurn, \n  checkCombatEnd,\n  getCurrentCombatant,\n  updateCombatant,\n  applyDamage\n} from '../utils/combatSystem';\nimport {\n  processStatusEffectsOnTurnStart,\n  getAttackModifiers,\n  checkConcentration,\n  hasStatusEffect,\n  STATUS_EFFECTS\n} from '../utils/statusEffectSystem';\nimport StatusEffectsPanel from './StatusEffectsPanel';\n\nexport default function CombatTracker({ combat, onUpdate, onEnd, party, updateParty }) {\n  const [selectedTarget, setSelectedTarget] = useState(null);\n  const [combatLog, setCombatLog] = useState([]);\n  const [actionType, setActionType] = useState('attack');\n\n  if (!combat || !combat.isActive) return null;\n\n  const currentCombatant = getCurrentCombatant(combat);\n  const isPlayerTurn = !currentCombatant.isEnemy;\n\n  const handleAttack = (attackIndex = 0) => {\n    if (!selectedTarget) {\n      alert('Select a target first!');\n      return;\n    }\n\n    // Check if attacker can act\n    if (hasStatusEffect(currentCombatant, STATUS_EFFECTS.INCAPACITATED) ||\n        hasStatusEffect(currentCombatant, STATUS_EFFECTS.STUNNED) ||\n        hasStatusEffect(currentCombatant, STATUS_EFFECTS.PARALYZED) ||\n        hasStatusEffect(currentCombatant, STATUS_EFFECTS.UNCONSCIOUS)) {\n      setCombatLog([`‚ùå ${currentCombatant.name} cannot act due to status effects!`, ...combatLog]);\n      return;\n    }\n\n    // Get advantage/disadvantage from status effects\n    const attackMods = getAttackModifiers(currentCombatant, selectedTarget);\n    \n    const result = executeAttack(currentCombatant, selectedTarget, attackIndex);\n    \n    // Modify attack based on status effects\n    let modifiedResult = { ...result };\n    \n    if (attackMods.advantage && !attackMods.disadvantage) {\n      // Roll again and take higher\n      const secondRoll = executeAttack(currentCombatant, selectedTarget, attackIndex);\n      if (secondRoll.attackRoll.totalRoll > result.attackRoll.totalRoll) {\n        modifiedResult = secondRoll;\n      }\n      setCombatLog([`üé≤ Attack with ADVANTAGE!`, ...combatLog]);\n    } else if (attackMods.disadvantage && !attackMods.advantage) {\n      // Roll again and take lower\n      const secondRoll = executeAttack(currentCombatant, selectedTarget, attackIndex);\n      if (secondRoll.attackRoll.totalRoll < result.attackRoll.totalRoll) {\n        modifiedResult = secondRoll;\n      }\n      setCombatLog([`üé≤ Attack with DISADVANTAGE!`, ...combatLog]);\n    }\n    \n    // Log the attack\n    const logEntry = modifiedResult.attackRoll.isCritical ? \n      `üí• CRITICAL HIT! ${modifiedResult.attacker} hits ${modifiedResult.target} with ${modifiedResult.attack} for ${modifiedResult.damage} ${modifiedResult.damageType} damage!` :\n      modifiedResult.attackRoll.isFumble ?\n      `‚ùå FUMBLE! ${modifiedResult.attacker} misses ${modifiedResult.target} with ${modifiedResult.attack}!` :\n      modifiedResult.attackRoll.isHit ?\n      `‚öîÔ∏è ${modifiedResult.attacker} hits ${modifiedResult.target} with ${modifiedResult.attack} for ${modifiedResult.damage} ${modifiedResult.damageType} damage!` :\n      `üõ°Ô∏è ${modifiedResult.attacker} misses ${modifiedResult.target} with ${modifiedResult.attack}!`;\n    \n    setCombatLog([logEntry, ...combatLog]);\n\n    // Apply damage\n    if (modifiedResult.attackRoll.isHit) {\n      const damagedTarget = applyDamage(selectedTarget, modifiedResult.damage, modifiedResult.damageType);\n      let updatedCombat = updateCombatant(combat, selectedTarget.id || selectedTarget.name, damagedTarget);\n      \n      // Check concentration if target was concentrating\n      if (!selectedTarget.isEnemy && hasStatusEffect(selectedTarget, STATUS_EFFECTS.CONCENTRATING)) {\n        const concentrationCheck = checkConcentration(selectedTarget, modifiedResult.damage);\n        if (concentrationCheck.concentrationBroken) {\n          setCombatLog([`üí´ ${selectedTarget.name} loses concentration on ${concentrationCheck.spellName}!`, ...combatLog]);\n          \n          // Update party member\n          if (party && updateParty) {\n            const updatedParty = party.map(p => {\n              if (p.name === selectedTarget.name) {\n                return {\n                  ...p,\n                  conditions: (p.conditions || []).filter(c => c.type !== STATUS_EFFECTS.CONCENTRATING)\n                };\n              }\n              return p;\n            });\n            updateParty(updatedParty);\n          }\n        } else {\n          setCombatLog([`üßò ${selectedTarget.name} maintains concentration (DC ${concentrationCheck.dc}, rolled ${concentrationCheck.total})`, ...combatLog]);\n        }\n      }\n      \n      // Check if target died\n      if (damagedTarget.isDead) {\n        setCombatLog([`üíÄ ${damagedTarget.name} has been defeated!`, ...combatLog]);\n      }\n      \n      onUpdate(updatedCombat);\n      \n      // Check combat end\n      const endCheck = checkCombatEnd(updatedCombat);\n      if (endCheck.ended) {\n        setTimeout(() => onEnd(endCheck), 1000);\n        return;\n      }\n    }\n\n    handleEndTurn();\n  };\n\n  const handleEndTurn = () => {\n    setSelectedTarget(null);\n    const newCombat = nextTurn(combat);\n    \n    // Process status effects at start of new turn\n    const nextCombatant = getCurrentCombatant(newCombat);\n    const statusResult = processStatusEffectsOnTurnStart(nextCombatant);\n    \n    // Log damage from status effects\n    if (statusResult.damageLog.length > 0) {\n      statusResult.damageLog.forEach(log => {\n        setCombatLog([\n          `üî• ${nextCombatant.name} takes ${log.damage} ${log.damageType} damage from ${log.effect}!`,\n          ...combatLog\n        ]);\n      });\n    }\n    \n    // Log removed effects\n    if (statusResult.removedEffects.length > 0) {\n      setCombatLog([\n        `‚ú® Status effects expired on ${nextCombatant.name}`,\n        ...combatLog\n      ]);\n    }\n    \n    // Update combatant with processed status effects\n    const updatedCombat = updateCombatant(newCombat, nextCombatant.id || nextCombatant.name, statusResult.character);\n    \n    onUpdate(updatedCombat);\n\n    // Auto enemy turn\n    setTimeout(() => {\n      if (updatedCombat.combatants[updatedCombat.currentTurn]?.isEnemy) {\n        handleEnemyTurn(updatedCombat);\n      }\n    }, 500);\n  };\n\n  const handleEnemyTurn = (currentCombat) => {\n    const enemy = getCurrentCombatant(currentCombat);\n    if (enemy.isDead) {\n      handleEndTurn();\n      return;\n    }\n\n    // Check if enemy can act\n    if (hasStatusEffect(enemy, STATUS_EFFECTS.INCAPACITATED) ||\n        hasStatusEffect(enemy, STATUS_EFFECTS.STUNNED) ||\n        hasStatusEffect(enemy, STATUS_EFFECTS.PARALYZED) ||\n        hasStatusEffect(enemy, STATUS_EFFECTS.UNCONSCIOUS)) {\n      setCombatLog([`‚ùå ${enemy.name} cannot act due to status effects!`, ...combatLog]);\n      setTimeout(() => handleEndTurn(), 1500);\n      return;\n    }\n\n    // Pick random alive party member\n    const aliveParty = currentCombat.combatants.filter(c => !c.isEnemy && !c.isDead);\n    if (aliveParty.length === 0) return;\n\n    const target = aliveParty[Math.floor(Math.random() * aliveParty.length)];\n    \n    // Get advantage/disadvantage\n    const attackMods = getAttackModifiers(enemy, target);\n    \n    const result = executeAttack(enemy, target, 0);\n    \n    let modifiedResult = { ...result };\n    \n    if (attackMods.advantage && !attackMods.disadvantage) {\n      const secondRoll = executeAttack(enemy, target, 0);\n      if (secondRoll.attackRoll.totalRoll > result.attackRoll.totalRoll) {\n        modifiedResult = secondRoll;\n      }\n    } else if (attackMods.disadvantage && !attackMods.advantage) {\n      const secondRoll = executeAttack(enemy, target, 0);\n      if (secondRoll.attackRoll.totalRoll < result.attackRoll.totalRoll) {\n        modifiedResult = secondRoll;\n      }\n    }\n\n    const logEntry = modifiedResult.attackRoll.isCritical ? \n      `üí• CRITICAL! ${modifiedResult.attacker} critically hits ${modifiedResult.target} for ${modifiedResult.damage} damage!` :\n      modifiedResult.attackRoll.isHit ?\n      `‚öîÔ∏è ${modifiedResult.attacker} hits ${modifiedResult.target} for ${modifiedResult.damage} damage!` :\n      `üõ°Ô∏è ${modifiedResult.attacker} misses ${modifiedResult.target}!`;\n    \n    setCombatLog([logEntry, ...combatLog]);\n\n    if (modifiedResult.attackRoll.isHit) {\n      const damagedTarget = applyDamage(target, modifiedResult.damage, modifiedResult.damageType);\n      let updatedCombat = updateCombatant(currentCombat, target.id || target.name, damagedTarget);\n      \n      // Check concentration for party members\n      if (!target.isEnemy && hasStatusEffect(target, STATUS_EFFECTS.CONCENTRATING)) {\n        const concentrationCheck = checkConcentration(target, modifiedResult.damage);\n        if (concentrationCheck.concentrationBroken) {\n          setCombatLog([`üí´ ${target.name} loses concentration!`, ...combatLog]);\n          \n          if (party && updateParty) {\n            const updatedParty = party.map(p => {\n              if (p.name === target.name) {\n                return {\n                  ...p,\n                  hp: damagedTarget.hp,\n                  conditions: (p.conditions || []).filter(c => c.type !== STATUS_EFFECTS.CONCENTRATING)\n                };\n              }\n              return p;\n            });\n            updateParty(updatedParty);\n          }\n        }\n      }\n      \n      if (damagedTarget.isDead) {\n        setCombatLog([`üíÄ ${damagedTarget.name} has fallen!`, ...combatLog]);\n      }\n\n      onUpdate(updatedCombat);\n\n      const endCheck = checkCombatEnd(updatedCombat);\n      if (endCheck.ended) {\n        setTimeout(() => onEnd(endCheck), 1000);\n        return;\n      }\n    }\n\n    setTimeout(() => handleEndTurn(), 1500);\n  };\n\n  return (\n    <div style={{\n      position: 'fixed',\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundColor: '#1a1a1a',\n      border: '3px solid #d32f2f',\n      borderBottom: 'none',\n      padding: '20px',\n      maxHeight: '60vh',\n      overflowY: 'auto',\n      zIndex: 1000,\n      boxShadow: '0 -4px 20px rgba(211,47,47,0.4)'\n    }}>\n      <div style={{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '15px',\n        paddingBottom: '15px',\n        borderBottom: '2px solid #444'\n      }}>\n        <h2 style={{ margin: 0, color: '#d32f2f', fontSize: '24px' }}>\n          ‚öîÔ∏è Combat - Round {combat.round}\n        </h2>\n        <button\n          onClick={() => onEnd({ ended: true, result: 'flee', message: 'Combat ended' })}\n          style={{\n            padding: '8px 16px',\n            backgroundColor: '#666',\n            color: 'white',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer'\n          }}\n        >\n          End Combat\n        </button>\n      </div>\n\n      {/* Initiative Order */}\n      <div style={{\n        display: 'flex',\n        gap: '10px',\n        marginBottom: '15px',\n        overflowX: 'auto',\n        paddingBottom: '10px'\n      }}>\n        {combat.combatants.map((combatant, index) => {\n          const activeEffects = combatant.conditions?.length || 0;\n          \n          return (\n            <div\n              key={combatant.id || combatant.name}\n              style={{\n                minWidth: '140px',\n                padding: '10px',\n                backgroundColor: index === combat.currentTurn ? '#d32f2f' : '#2a2a2a',\n                border: index === combat.currentTurn ? '3px solid #ffd700' : '2px solid #444',\n                borderRadius: '8px',\n                opacity: combatant.isDead ? 0.3 : 1,\n                position: 'relative'\n              }}\n            >\n              {index === combat.currentTurn && (\n                <div style={{\n                  position: 'absolute',\n                  top: '-15px',\n                  left: '50%',\n                  transform: 'translateX(-50%)',\n                  fontSize: '24px'\n                }}>\n                  ‚¨áÔ∏è\n                </div>\n              )}\n              \n              <div style={{\n                fontSize: '12px',\n                color: combatant.isEnemy ? '#ff6b6b' : '#4CAF50',\n                marginBottom: '5px'\n              }}>\n                {combatant.isEnemy ? 'üëπ' : 'üõ°Ô∏è'} Initiative: {combatant.initiative}\n              </div>\n              \n              <div style={{ fontWeight: 'bold', marginBottom: '5px', fontSize: '14px' }}>\n                {combatant.name}\n              </div>\n              \n              <div style={{ fontSize: '12px', marginBottom: '5px' }}>\n                HP: {combatant.hp}/{combatant.maxHp}\n              </div>\n              \n              <div style={{\n                width: '100%',\n                height: '6px',\n                backgroundColor: '#1a1a1a',\n                borderRadius: '3px',\n                marginBottom: '5px',\n                overflow: 'hidden'\n              }}>\n                <div style={{\n                  width: `${(combatant.hp / combatant.maxHp) * 100}%`,\n                  height: '100%',\n                  backgroundColor: combatant.hp > combatant.maxHp * 0.5 ? '#4CAF50' : \n                                  combatant.hp > combatant.maxHp * 0.25 ? '#ff9800' : '#f44336',\n                  transition: 'width 0.3s'\n                }} />\n              </div>\n\n              {/* Status Effects Badge */}\n              {activeEffects > 0 && (\n                <div style={{\n                  position: 'absolute',\n                  top: '5px',\n                  right: '5px',\n                  backgroundColor: '#ff9800',\n                  color: 'white',\n                  borderRadius: '50%',\n                  width: '20px',\n                  height: '20px',\n                  fontSize: '11px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontWeight: 'bold'\n                }}>\n                  {activeEffects}\n                </div>\n              )}\n\n              {/* Compact Status Effects */}\n              <StatusEffectsPanel\n                character={combatant}\n                onUpdateCharacter={(updated) => {\n                  const updatedCombat = updateCombatant(combat, combatant.id || combatant.name, updated);\n                  onUpdate(updatedCombat);\n                }}\n                compact={true}\n              />\n\n              {combatant.isDead && (\n                <div style={{\n                  position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '40px'\n                }}>\n                  üíÄ\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Combat Log */}\n      <div style={{\n        backgroundColor: '#0a0a0a',\n        padding: '10px',\n        borderRadius: '8px',\n        marginBottom: '15px',\n        maxHeight: '100px',\n        overflowY: 'auto',\n        border: '1px solid #444'\n      }}>\n        {combatLog.length === 0 ? (\n          <p style={{ margin: 0, color: '#888', fontStyle: 'italic' }}>\n            Combat begins...\n          </p>\n        ) : (\n          combatLog.map((log, i) => (\n            <div key={i} style={{\n              padding: '5px',\n              marginBottom: '3px',\n              color: '#eee',\n              fontSize: '14px'\n            }}>\n              {log}\n            </div>\n          ))\n        )}\n      </div>\n\n      {/* Current Turn Actions */}\n      <div style={{\n        backgroundColor: '#2a2a2a',\n        padding: '15px',\n        borderRadius: '8px',\n        border: '2px solid #ffd700'\n      }}>\n        <h3 style={{ margin: '0 0 10px 0', color: '#ffd700' }}>\n          {currentCombatant.name}'s Turn\n        </h3>\n\n        {isPlayerTurn && !currentCombatant.isDead && (\n          <div>\n            {/* Status Effect Warning */}\n            {(hasStatusEffect(currentCombatant, STATUS_EFFECTS.INCAPACITATED) ||\n              hasStatusEffect(currentCombatant, STATUS_EFFECTS.STUNNED) ||\n              hasStatusEffect(currentCombatant, STATUS_EFFECTS.PARALYZED) ||\n              hasStatusEffect(currentCombatant, STATUS_EFFECTS.UNCONSCIOUS)) ? (\n              <div style={{\n                padding: '12px',\n                backgroundColor: '#d32f2f',\n                borderRadius: '8px',\n                marginBottom: '15px',\n                color: 'white',\n                fontWeight: 'bold'\n              }}>\n                ‚ö†Ô∏è Cannot act due to status effects!\n              </div>\n            ) : (\n              <>\n                {/* Target Selection */}\n                <div style={{ marginBottom: '15px' }}>\n                  <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n                    Select Target:\n                  </label>\n                  <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\n                    {combat.combatants.filter(c => c.isEnemy && !c.isDead).map(enemy => (\n                      <button\n                        key={enemy.id || enemy.name}\n                        onClick={() => setSelectedTarget(enemy)}\n                        style={{\n                          padding: '10px 15px',\n                          backgroundColor: selectedTarget?.name === enemy.name ? '#d32f2f' : '#444',\n                          color: 'white',\n                          border: selectedTarget?.name === enemy.name ? '2px solid #ffd700' : 'none',\n                          borderRadius: '5px',\n                          cursor: 'pointer',\n                          fontWeight: selectedTarget?.name === enemy.name ? 'bold' : 'normal'\n                        }}\n                      >\n                        {enemy.name} (HP: {enemy.hp}/{enemy.maxHp})\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Attack Buttons */}\n                {currentCombatant.attacks && currentCombatant.attacks.length > 0 && (\n                  <div style={{ marginBottom: '15px' }}>\n                    <label style={{ display: 'block', marginBottom: '8px', fontWeight: 'bold' }}>\n                      Attack:\n                    </label>\n                    <div style={{ display: 'flex', gap: '10px' }}>\n                      {currentCombatant.attacks.map((attack, index) => (\n                        <button\n                          key={index}\n                          onClick={() => handleAttack(index)}\n                          disabled={!selectedTarget}\n                          style={{\n                            padding: '12px 20px',\n                            backgroundColor: selectedTarget ? '#4CAF50' : '#333',\n                            color: 'white',\n                            border: 'none',\n                            borderRadius: '8px',\n                            cursor: selectedTarget ? 'pointer' : 'not-allowed',\n                            fontSize: '16px',\n                            fontWeight: 'bold',\n                            opacity: selectedTarget ? 1 : 0.5\n                          }}\n                        >\n                          ‚öîÔ∏è {attack.name} (+{attack.bonus}, {attack.damage})\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </>\n            )}\n\n            <button\n              onClick={handleEndTurn}\n              style={{\n                padding: '10px 20px',\n                backgroundColor: '#666',\n                color: 'white',\n                border: 'none',\n                borderRadius: '5px',\n                cursor: 'pointer'\n              }}\n            >\n              End Turn\n            </button>\n          </div>\n        )}\n\n        {!isPlayerTurn && (\n          <p style={{ margin: 0, color: '#ff6b6b', fontStyle: 'italic' }}>\n            Enemy is thinking...\n          </p>\n        )}\n\n        {currentCombatant.isDead && (\n          <p style={{ margin: 0, color: '#888' }}>\n            This combatant is defeated.\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}